<!-- <p-table
id="trxDt"
[value]="trxnRptWithOutScm"
class="test-data"
[responsive]="true"
[rowHover]="true"
styleClass="p-datatable-striped"
[autoLayout]="true"
[scrollable]="true"
[columns]="TrxnClm"
[tableStyle]="{ 'min-width': '250rem' }"
>
  <ng-template pTemplate="header">
      <tr>
          <th  *ngFor="let col of TrxnClm" [pSortableColumn]="col.field"
           [style.width]="'18rem'">
            {{ col.header }}
            <p-sortIcon [field]="col.field" *ngIf="col.field != 'scheme_link' && col.field != 'isin_link'">
            </p-sortIcon>
          </th>
      </tr>
  </ng-template>
  <ng-template pTemplate="body" let-trxn let-columns="TrxnClm"  let-i="rowIndex">
    <tr tabindex="999">
      <td *ngFor="let col of TrxnClm">
        <ng-container [ngSwitch]="true">
          <ng-container *ngSwitchCase="col.field == 'sl_no'">
            <b>{{i + 1}}</b>
         </ng-container>
         <ng-container *ngSwitchCase="col.field == 'scheme_link'">
          <p-button label="Add Scheme"
          [routerLink]="['/main/master/productwisemenu/scheme']"
          icon="pi pi-plus"
          styleClass="p-button-link">
          </p-button>
        </ng-container>
        <ng-container *ngSwitchCase="col.field == 'isin_link'">
          <p-button
          [routerLink]="['/main/master/productwisemenu/scheme/isin']"
          label="Add Scheme ISIN & Code"
          icon="pi pi-plus"
          styleClass="p-button-link">
          </p-button>
        </ng-container>
         <ng-container *ngSwitchCase="col.field == 'trans_date'">
            <b>{{ trxn[col.field] ? (trxn[col.field] | date:'dd-MM-YYYY') : 'N/A' }}</b>
         </ng-container>
         <ng-container *ngSwitchCase="col.field == 'amount' || col.field == 'pur_price'">
          <b>{{ trxn[col.field] ? (trxn[col.field] | currency:'INR') : 'N/A' }}</b>
       </ng-container>

         <ng-container *ngSwitchCase="col.field == 'scheme_name'">
          <b>{{ trxn[col.field] ? (trxn[col.field] + '-' + trxn['plan_name'] + '-' + trxn['option_name']) : 'N/A'}}</b>
       </ng-container>
       <ng-container *ngSwitchCase="col.field == 'tds'">
        <b>{{ (trxn[col.field] && trxn[col.field] != " ") ? trxn[col.field] : 0}}</b>
     </ng-container>
     <ng-container *ngSwitchDefault>
      <b>{{ trxn[col.field] ? trxn[col.field] : 'N/A' }}</b>
    </ng-container>
        </ng-container>
      </td>
      </tr>
    </ng-template>

  <ng-template pTemplate="emptymessage" let-columns>
    <tr>
      <td [attr.colSpan]="columns.length" class="noHistoryAvailable">
         No Records Found
      </td>
    </tr>
  </ng-template>
</p-table> -->




<p-table
#primeTbl
id="trxDt"
[value]="trxnRptWithOutScm"
[responsive]="true"
[rowHover]="true"
styleClass="p-datatable-striped p-datatable-lg"
responsiveLayout="scroll"
[scrollable]="true"
[columns]="TrxnClm"
[paginator]="true"
[autoLayout]="true"
[totalRecords]="trxnRptWithOutScm.length"
[pageLinks]="3"
[rowsPerPageOptions]="[10,50,100,{ showAll: 'All' }]"
currentPageReportTemplate="Showing {first} to {last} of {totalRecords} entries"
[rows]="10"
[showCurrentPageReport]="true"
[globalFilterFields]="getColumns()"
[tableStyle]="{ 'min-width': '350rem' }"
>
  <ng-template pTemplate="header">
      <tr >
          <th  *ngFor="let col of TrxnClm"
          [pSortableColumn]="col.field"
          [style.max-width]="col.width"
          [style.min-width]="(col.field != 'amc_name' && col.field != 'scheme_name') ? col.width : '12rem'"

          >
            {{ col.header }}
            <p-sortIcon [field]="col.field" *ngIf="(col.field != 'isin_link' && col.field != 'scheme_link')">
            </p-sortIcon>
          </th>
      </tr>
  </ng-template>
  <ng-template pTemplate="body" let-trxn  let-i="rowIndex">
    <tr tabindex="999">
      <td *ngFor="let col of TrxnClm"
      [style.max-width]="col.width"
      [style.min-width]="(col.field != 'amc_name' && col.field != 'scheme_name') ? col.width : '12rem'"
      >
        <ng-container [ngSwitch]="true">
          <ng-container *ngSwitchCase="col.field == 'sl_no'">
            <b>{{i + 1}}</b>
         </ng-container>

         <ng-container *ngSwitchCase="col.field == 'sub_brk_cd'">
          <b>{{(trxn[col.field] && trxn[col.field]!=' ' && (trxn[col.field] | uppercase)!='NOT PROVID' && trxn[col.field] != '0')  ? trxn[col.field] : 'N/A' }}</b>
       </ng-container>

       <ng-container *ngSwitchCase="col.field == 'first_client_name'">
        <b>{{ trxn[col.field] ? (trxn[col.field] | titlecase) : 'N/A' }}</b>
     </ng-container>


         <ng-container *ngSwitchCase="col.field == 'trans_date'">
            <b>{{ trxn[col.field] ? (trxn[col.field] | date:'dd-MM-YYYY') : 'N/A' }}</b>
         </ng-container>
         <ng-container *ngSwitchCase="col.field == 'scheme_name'">
          <b matTooltip="{{trxn[col.field] ? (trxn[col.field]  + ' - ' +  trxn['plan_name'] + ' - ' + trxn['option_name']) : ''}}">{{ trxn[col.field] ? (trxn[col.field] + '-' + trxn['plan_name'] + '-' + trxn['option_name']) : 'N/A'}}</b>
       </ng-container>
         <ng-container *ngSwitchCase="col.field == 'pur_price'">
          <b [matTooltip]="trxn[col.field]">{{trxn[col.field] ? trxn[col.field] : 'N/A' }}</b>
       </ng-container>

       <ng-container *ngSwitchCase="col.field == 'gross_amount'">
        <b [matTooltip]="trxn['trxn_code'] == 'R' ? (trxn['tot_gross_amount']? (trxn['tot_gross_amount']  | number:'1.2-2'): '0' ) : (trxn[col.field]  ? (trxn[col.field]  | number:'1.2-2'): '0' )">
          {{trxn['trxn_code'] == 'R' ? (trxn['tot_gross_amount'] ? (trxn['tot_gross_amount'] | number:'1.2-2'): '0') : (trxn[col.field] ? (trxn[col.field]  | number:'1.2-2') : '0') }}
        </b>
     </ng-container>




       <!-- Net Amount Logic -->
        <ng-container *ngSwitchCase="col.field == 'amount'">
          <b [matTooltip]="trxn['trxn_code'] == 'R' ? (trxn['tot_amount'] ? trxn['tot_amount'] : 0) : (trxn[col.field] ? trxn[col.field] : 0)">
            {{trxn['trxn_code'] == 'R' ? (trxn['tot_amount'] ? trxn['tot_amount'] : 0) : (trxn[col.field] ? trxn[col.field] : 0) }}
          </b>
      </ng-container>
      <!-- End -->

       <!-- TDS Logic -->
      <ng-container *ngSwitchCase="col.field == 'tds'">
        <b [matTooltip]="trxn['trxn_code'] == 'R' ?
        (trxn['tot_tds'] ? trxn['tot_tds'] : 0)
        : (trxn[col.field] && trxn[col.field] != ' ' ? trxn[col.field] : 0)">
           {{trxn['trxn_code'] == 'R' ?
           (trxn['tot_tds'] ? trxn['tot_tds'] : 0)
           : (trxn[col.field] && trxn[col.field] != ' ' ? trxn[col.field] : 0)}}
        </b>
     </ng-container>
     <!-- End -->

     <!-- Stamp Duty Logic -->
          <ng-container *ngSwitchCase="col.field == 'stamp_duty'">
              <b [matTooltip]="trxn['trxn_code'] == 'R' ?
              (trxn['tot_stamp_duty'] ? trxn['tot_stamp_duty'] : 0)
              : (trxn[col.field] && trxn[col.field] != ' ' ? trxn[col.field] : 0)">
                {{trxn['trxn_code'] == 'R' ?
                (trxn['tot_stamp_duty'] ? trxn['tot_stamp_duty'] : 0)
                : (trxn[col.field] && trxn[col.field] != ' ' ? trxn[col.field] : 0)}}
              </b>
        </ng-container>
     <!-- End -->

        <ng-container *ngSwitchCase="col.field == 'scheme_link'">
          <p-button label="Add Scheme"
          [routerLink]="['/main/master/productwisemenu/scheme']"
          icon="pi pi-plus"
          styleClass="p-button-link">
          </p-button>
        </ng-container>
        <ng-container *ngSwitchCase="col.field == 'isin_link'">
          <p-button
          [routerLink]="['/main/master/productwisemenu/scheme/isin']"
          label="Add Scheme ISIN & Code"
          icon="pi pi-plus"
          styleClass="p-button-link">
          </p-button>
        </ng-container>
          <ng-container *ngSwitchDefault>
            <b [matTooltip]="trxn[col.field]">{{ trxn[col.field] ? trxn[col.field] : 'N/A' }}</b>
          </ng-container>
        </ng-container>
      </td>
      </tr>
    </ng-template>

  <ng-template pTemplate="emptymessage" let-columns>
    <tr>
      <td [attr.colSpan]="columns.length" class="noHistoryAvailable">
         <h5>No Records Found</h5>
      </td>
    </tr>
  </ng-template>
</p-table>
