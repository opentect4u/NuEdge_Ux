<div cdkDrag cdkDragRootElement=".cdk-overlay-pane" cdkDragHandle>
  <div mat-dialog-title class="dialog-title" [title]="data.title">
    <h2>{{data.title}}</h2>
    <div class="btnIcon">
      <button mat-icon-button title="Minimize" (click)="minimize()">
        <mat-icon>remove</mat-icon>
      </button>
      <button mat-icon-button title="Restore Down" (click)="maximize()" *ngIf="__isVisible">
        <mat-icon>content_copy</mat-icon>
      </button>
      <button mat-icon-button title="Maximize" (click)="fullScreen()" *ngIf="!__isVisible">
        <mat-icon>check_box_outline_blank </mat-icon>
      </button>
      <button mat-icon-button title="Close" [mat-dialog-close]="">
        <mat-icon>close</mat-icon>
      </button>
    </div>
  </div>
  <mat-dialog-content>
    <form [formGroup]="__nonfinForm" (ngSubmit)="submitnonFinForm()" [attr.id]="'__NonFIn_'+ data.id"
      autocomplete="off">
      <div class="row">
        <div class="col-sm-12  my-2">
          <mat-radio-group aria-label="Select an option" color="primary" formControlName="tin_status">
            <mat-radio-button value="Y">With TTIN</mat-radio-button>
            <mat-radio-button value="N" class="ml-5">Without TTIN</mat-radio-button>
          </mat-radio-group>
        </div>
      </div>
      <ng-container *ngIf="__nonfinForm.get('tin_status').value == 'Y'">
        <div class="row ">
          <div class="col-sm-12 ">
            <app-core-srch
            [label] = "'Temporary TIN Number'"
            [placeholder]="'Search by Temporary TIN Number'"
            [isPending]="__istemporaryspinner"
            [listItems] = "__temp_tinMst"
            [flag] = "'T'"
            [isRequired]="true"
            [noDataFoundTitle]="'Sorry!! No Records Found'"
            [noDataFoundSubTitle]="'If your result match,they will appear here'"
            [propertiesToShow] = "['temp_tin_no','client_name','trans_name']"
            formControlName="temp_tin_no"
            [isExists]="__nonfinForm.get('temp_tin_no').errors?.TempTINExists"
            [displayMode]="displayMode_forTTIN"
            (setDisplayMode)="displayMode_forTTIN = $event"
            (selectedItems)="getItems($event.item)"
            [isClientExistMsg]="'Temporary TIN does not exists'"
            ></app-core-srch>
          </div>
        </div>
      </ng-container>
      <div class="row  my-2">
        <div class="col-sm-12 ">
          <label for="bu_type">Buisness Type <span class="text-danger">*</span></label>
          <select name="bu_type" id="bu_type" formControlName="bu_type" class="form-control">
            <option value=""> Select Buisness Type</option>
            <option *ngFor="let __bu_type of __buisness_type" value="{{__bu_type.id}}">{{__bu_type.bu_type}}
            </option>
          </select>
          <div class="invalid-feedback"
            *ngIf="__nonfinForm.get('bu_type').invalid && (__nonfinForm.get('bu_type').dirty || __nonfinForm.get('bu_type').touched)">
            <span class="invalid-feedback" *ngIf="(__nonfinForm.get('bu_type')).errors?.required">*Please provide
              buisness
              type</span>
          </div>
        </div>
      </div>
      <!-- Sub Broker -->
      <ng-container *ngIf="__nonfinForm.get('bu_type').value == 'B'">
        <div class="row">
          <div class="col-sm-12 ">
            <app-core-srch
            [label] = "'Sub Broker ARN'"
            [placeholder]="'Serach By Sub Broker ARN'"
            [isPending]="__issubBrkArnspinner"
            [listItems] = "__subbrkArnMst"
            [flag] = "'S'"
            [isRequired]="true"
            [noDataFoundTitle]="'Sorry!! No Records Found'"
            [noDataFoundSubTitle]="'If your result match,they will appear here'"
            [propertiesToShow] = "['arn_no','bro_name']"
            formControlName="sub_arn_no"
            [isExists]="__nonfinForm.get('sub_arn_no').errors?.subBrkExists"
            [displayMode]="displayMode_forSub_arn_no"
            (setDisplayMode)="displayMode_forSub_arn_no = $event"
            (selectedItems)="getSelectedItemsFromParent($event)"
            [isClientExistMsg]="'Sub Broker does not exists'"
            ></app-core-srch>
          </div>
        </div>
        <div class="row  my-2">
          <div class="col-sm-12 ">
            <label>Sub Broker Code <span class="text-danger">*</span></label>
            <input type="text" name="sub_brk_cd" id="sub_brk_cd" class="form-control" formControlName="sub_brk_cd"
              [attr.disabled]="true" placeholder="Sub Broker Code">
          </div>
        </div>
      </ng-container>
      <!-- EUIN -->
      <ng-container *ngIf="__nonfinForm.get('bu_type').value != ''">
        <div class="row">
          <div class="col-sm-12">
            <app-core-srch
            [label] = "'EUIN'"
            [placeholder]="'Search By EUIN Number'"
            [isPending]="__isEuinNumberVisible"
            [listItems] = "__euinMst"
            [flag] = "'E'"
            [isRequired]="true"
            [noDataFoundTitle]="'Sorry!! No Records Found'"
            [noDataFoundSubTitle]="'If your result match,they will appear here'"
            [propertiesToShow] = "['euin_no','emp_name']"
            formControlName="euin_no"
            [isExists]="__nonfinForm.get('euin_no').errors?.euinExists"
            [displayMode]="displayMode_forEuin"
            (setDisplayMode)="displayMode_forEuin = $event"
            (selectedItems)="getSelectedItemsFromParent($event)"
            [isClientExistMsg]="'EUIN does not exists'"
            ></app-core-srch>
            <div class="invalid-feedback"
              *ngIf="__nonfinForm.get('euin_no').invalid && (__nonfinForm.get('euin_no').dirty || __nonfinForm.get('euin_no').touched)">
              <span class="invalid-feedback" *ngIf="(__nonfinForm.get('euin_no')).errors?.required">*Please
                provide
                EUIN number</span>
            </div>
          </div>
        </div>
      </ng-container>
      <!-- First Applicant -->
      <div class="row  my-2">
        <div [ngClass]="{'col-sm-12':!__isCldtlsEmpty,'col-sm-10':__isCldtlsEmpty}">
        <app-core-srch
              [label] = "'Client Code'"
              [placeholder]="'Search By Client Name,Client Code, Email, Mobile, PAN & DOB'"
              [isPending]="__isclientVisible"
              [listItems] = "__clientMst"
              [flag] = "'C'"
              [isRequired]="true"
              [noDataFoundTitle]="'Sorry!! No Records Found'"
              [noDataFoundSubTitle]="'To create a new client .Please click on Create Client'"
              [propertiesToShow] = "['client_code','pan','client_name']"
              formControlName="client_code"
              [isExists]="__nonfinForm.get('client_code').errors?.ClientExists"
              [displayMode]="displayMode_forClient"
              (setDisplayMode)="displayMode_forClient = $event"
              (selectedItems)="getSelectedItemsFromParent($event)"
              [isClientExistMsg]="'Client does not exists'"
              ></app-core-srch>
        </div>
        <div class="col-sm-2 clientCode" *ngIf="__isCldtlsEmpty && __nonfinForm.get('client_code').value">
          <core-btn-with-menu
          [menuListItem]="clientTypeMst"
          [BtnTitle]="'Create Client'"
          [hasMenu]="true"
          (sendItem)="openDialogForclientcreation($event,'F')"
          ></core-btn-with-menu>
        </div>
      </div>
      <ng-container *ngIf="__nonfinForm.get('client_code').value && __nonfinForm.get('client_name').value">
        <div class="row  my-2">
          <div class="col-sm-12">
            <label for="__clName">Client Name</label>
            <input type="search" name="__clName" id="__clName" class="form-control" placeholder="Client Name"
              formControlName="client_name" [attr.disabled]="true">
              <button (click)="openDialog('C')"
              color="primary"
              mat-icon-button
              class="viewIconDtls"
              *ngIf="__dialogDtForClient"
              type="button"
              aria-label="Example icon button with a eye icon" title="View Client Details">
              <mat-icon>remove_red_eye</mat-icon>
            </button>
          </div>
        </div>
      </ng-container>
      <!-- First Client Dtls End -->

      <!-- Transaction -->
      <div class="row  my-2">
        <div class="col-sm-12">
          <label for="trans_id">Transaction <span class="text-danger">*</span></label>
          <select name="trans_id" id="trans_id" formControlName="trans_id" class="form-control">
            <option value=""> Select Transaction</option>
            <option *ngFor="let __transType of __transType" value="{{__transType.id}}">
              {{__transType.trns_name}} {{__transType.id}}
            </option>
          </select>
          <div class="invalid-feedback"
            *ngIf="__nonfinForm.get('trans_id').invalid && (__nonfinForm.get('trans_id').dirty || __nonfinForm.get('trans_id').touched)">
            <span class="invalid-feedback" *ngIf="(__nonfinForm.get('trans_id')).errors?.required">*Please provide
              transaction</span>
          </div>
        </div>
      </div>
      <!-- End -->
      <!-- Folio Number -->
      <div class="row">
        <div class="col-sm-12">
          <label for="folio_no">
            {{__nonfinForm.get('trans_id').value == '33' ? 'Targeted Folio' : 'Folio Number' }}
            <span class="text-danger">*</span></label>
          <input type="text" placeholder="Enter Folio Number" name="folio_no" id="folio_no" class="form-control"
            formControlName="folio_no">
          <div class="invalid-feedback"
            *ngIf="__nonfinForm.get('folio_no').invalid && (__nonfinForm.get('folio_no').dirty || __nonfinForm.get('folio_no').touched)">
            <span class="invalid-feedback" *ngIf="(__nonfinForm.get('folio_no')).errors?.required">*Please provide
              {{__nonfinForm.get('trans_id').value == '33' ? 'targeted folio' : 'folio Number' }}
            </span>
          </div>
        </div>
      </div>

      <!-- Scheme Name -->
      <div class="row my-2">
        <div [ngClass]="{'col-sm-12': !__dialogDtForScheme,'col-sm-9':__dialogDtForScheme}">
          <app-core-srch
          [label] = "__nonfinForm.get('trans_id').value == '31' ? 'STP Source Scheme' : 'Scheme Name'"
          [placeholder]="'Search By Scheme Name'"
          [isPending]="__isschemeSpinner"
          [listItems] = "__schemeMst"
          [flag] = "'SC'"
          [isRequired]="true"
          [propertiesToShow] = "['scheme_name']"
          formControlName="scheme_name"
          [noDataFoundTitle]="'Sorry!! No Records Found'"
          [noDataFoundSubTitle]="'If your result match,they will appear here'"
          [isExists]="__nonfinForm.get('scheme_name').errors?.ScmExists"
          [displayMode]="displayMode_forScm"
          (setDisplayMode)="displayMode_forScm = $event"
          (selectedItems)="getSelectedItemsFromParent($event)"
          [isClientExistMsg]="'Scheme does not exists'"
          ></app-core-srch>
          <div class="invalid-feedback"
          *ngIf="__nonfinForm.get('scheme_name').invalid && (__nonfinForm.get('scheme_name').dirty || __nonfinForm.get('scheme_name').touched)">
          <span class="invalid-feedback" *ngIf="(__nonfinForm.get('scheme_name')).errors?.required">*Please provide scheme
          </span>
        </div>
        </div>
        <div class="col-sm-3 clientCode" *ngIf="__dialogDtForScheme">
          <button color="primary" *ngIf="this.__dialogDtForScheme"
          (click)="openDialog('S')" mat-button type="button"
            aria-label="Example icon button with a eye icon" title="View Scheme Details">
            <mat-icon>remove_red_eye</mat-icon>
            View Details
          </button>
        </div>
      </div>

      <!-- STP TO Scheme -->
      <ng-container *ngIf="__nonfinForm.get('trans_id').value == '31'">
        <div class="row">
          <div [ngClass]="{'col-sm-12': !__dialogDtForScheme_to,'col-sm-9':__dialogDtForScheme_to}">
            <app-core-srch
            [label] = "'STP To Scheme'"
            [placeholder]="'Search By Scheme Name'"
            [isPending]="__isschemeSpinner_to"
            [listItems] = "__schemeMstTo"
            [flag] = "'ST'"
            [isRequired]="true"
            [propertiesToShow] = "['scheme_name']"
            formControlName="scheme_name_to"
            [noDataFoundTitle]="'Sorry!! No Records Found'"
            [noDataFoundSubTitle]="'If your result match,they will appear here'"
            [isExists]="__nonfinForm.get('scheme_name_to').errors?.ScmToExists"
            [displayMode]="displayMode_forScm_to"
            (setDisplayMode)="displayMode_forScm_to = $event"
            (selectedItems)="getSelectedItemsFromParent($event)"
            [isClientExistMsg]="'Scheme does not exists'"
            ></app-core-srch>
            <div class="invalid-feedback"
            *ngIf="__nonfinForm.get('scheme_name_to').invalid && (__nonfinForm.get('scheme_name_to').dirty || __nonfinForm.get('scheme_name_to').touched)">
            <span class="invalid-feedback" *ngIf="(__nonfinForm.get('scheme_name_to')).errors?.required">*Please provide scheme
            </span>
          </div>
          </div>
          <div class="col-sm-3 clientCode" *ngIf="__dialogDtForScheme_to">
            <button color="primary"
            (click)="openDialog('ST')" mat-button type="button"
              aria-label="Example icon button with a eye icon" title="View Scheme Details">
              <mat-icon>remove_red_eye</mat-icon>
              View Details
            </button>
          </div>
        </div>

      </ng-container>
      <!-- End -->

      <!-- plan -->
      <div class="row ">
        <div class="col-sm-12">
          <label for="plan">Plan <span class="text-danger">*</span></label>
          <select class="form-control" id="plan" formControlName="plan_id">
            <option value="">Select</option>
            <option [value]="__plnmst.id" *ngFor="let __plnmst of __plnMst">{{__plnmst.plan_name}}</option>
          </select>
          <div class="invalid-feedback"
            *ngIf="__nonfinForm.get('plan_id').invalid && (__nonfinForm.get('plan_id').dirty || __nonfinForm.get('plan_id').touched)">
            <span class="invalid-feedback" *ngIf="(__nonfinForm.get('plan_id')).errors?.required">*Please provide
              plan</span>
          </div>
        </div>
      </div>
      <!-- Option -->
      <div class="row  my-2">
        <div class="col-sm-12">
          <label for="option">Option <span class="text-danger">*</span></label>
          <select class="form-control" id="option" formControlName="option_id">
            <option value="">Select</option>
            <option [value]="__optmst.id" *ngFor="let __optmst of __optionMst">{{__optmst.opt_name}}</option>
          </select>
          <div class="invalid-feedback"
            *ngIf="__nonfinForm.get('option_id').invalid && (__nonfinForm.get('option_id').dirty || __nonfinForm.get('option_id').touched)">
            <span class="invalid-feedback" *ngIf="(__nonfinForm.get('option_id')).errors?.required">*Please provide
              option</span>
          </div>
        </div>
      </div>

      <!-- SIP / STP / SWP PAUSE -->
       <ng-container formGroupName="pause"
       *ngIf="__nonfinForm.get('trans_id').value == '36'
       || __nonfinForm.get('trans_id').value == '37'
       || __nonfinForm.get('trans_id').value == '38'">

       <div class="row">
        <div class="col-sm-12">
          <label for="pause_frq">Frequency <span class="text-danger">*</span></label>
          <select class="form-control" id="pause_frq" formControlName="pause_frq">
            <option value="">Select</option>
            <option [value]="freq.id" *ngFor="let freq of __frq">{{freq.freq_name}}</option>
          </select>
          <div class="invalid-feedback"
            *ngIf="__nonfinForm.get(['pause','pause_frq']).invalid && (__nonfinForm.get(['pause','pause_frq']).dirty || __nonfinForm.get(['pause','pause_frq']).touched)">
            <span class="invalid-feedback" *ngIf="(__nonfinForm.get(['pause','pause_frq'])).errors?.required">*Please provide Frequency</span>
          </div>
        </div>

        <div class="col-sm-12">
          <label for="pause_duration">Duration <span class="text-danger">*</span></label>
          <input type="text"
          name="pause_duration"
          id="pause_duration"
          class="form-control"
          placeholder="Enter Pause Duration"
          formControlName="pause_duration">
          <div class="invalid-feedback"
            *ngIf="__nonfinForm.get(['pause','pause_duration']).invalid && (__nonfinForm.get(['pause','pause_duration']).dirty || __nonfinForm.get(['pause','pause_duration']).touched)">
            <span class="invalid-feedback" *ngIf="(__nonfinForm.get(['pause','pause_duration'])).errors?.required">*Please provide duration</span>
          </div>
        </div>
        <div class="col-sm-12">
          <label for="pause_start_dt">Pause Start Date <span class="text-danger">*</span></label>
          <input type="date"
          name="pause_start_dt"
          id="pause_start_dt"
          class="form-control"
          formControlName="pause_start_dt">
          <div class="invalid-feedback"
            *ngIf="__nonfinForm.get(['pause','pause_start_dt']).invalid && (__nonfinForm.get(['pause','pause_start_dt']).dirty || __nonfinForm.get(['pause','pause_start_dt']).touched)">
            <span class="invalid-feedback" *ngIf="(__nonfinForm.get(['pause','pause_start_dt'])).errors?.required">*Please provide start date</span>
          </div>
        </div>
        <div class="col-sm-12">
          <label for="pause_end_dt">Pause End Date <span class="text-danger">*</span></label>
          <input type="date"
          name="pause_end_dt"
          id="pause_end_dt"
          class="form-control"
          formControlName="pause_end_dt">
          <div class="invalid-feedback"
            *ngIf="__nonfinForm.get(['pause','pause_end_dt']).invalid && (__nonfinForm.get(['pause','pause_end_dt']).dirty || __nonfinForm.get(['pause','pause_end_dt']).touched)">
            <span class="invalid-feedback" *ngIf="(__nonfinForm.get(['pause','pause_end_dt'])).errors?.required">*Please provide end date</span>
          </div>
        </div>

        <div class="col-sm-12">
          <label for="pause_amt">Amount <span class="text-danger">*</span></label>
          <input type="text"
          name="pause_amt"
          id="pause_amt"
          class="form-control"
          placeholder="Enter Amount"
          formControlName="pause_amt">
          <div class="invalid-feedback"
            *ngIf="__nonfinForm.get(['pause','pause_amt']).invalid && (__nonfinForm.get(['pause','pause_amt']).dirty || __nonfinForm.get(['pause','pause_amt']).touched)">
            <span class="invalid-feedback" *ngIf="(__nonfinForm.get(['pause','pause_amt'])).errors?.required">*Please provide amount</span>
          </div>
        </div>

       </div>

       </ng-container>
      <!-- END -->

      <!-- MERGE FOLIO -->
      <ng-container *ngIf="__nonfinForm.get('trans_id').value == '33'">
        <div class="row mt-5">
          <div class="col-sm-12">
            <table>
              <thead>
                <tr>
                  <th class="text-center">
                    <mat-checkbox color="primary" formControlName="is_merge_folio_checked_all"></mat-checkbox>
                  </th>
                  <th class="text-center">Source Folio</th>
                  <th class="text-center">
                    <button mat-icon-button type="button" (click)="addmeregeFolios()">
                      <mat-icon>add</mat-icon>
                    </button>
                  </th>
                </tr>
              </thead>
              <tbody formArrayName="merge_folio">

                <tr *ngFor="let item of merge_folio.controls; let i = index;">
                  <ng-container [formGroupName]="i">
                    <td class="text-center">
                      <mat-checkbox color="primary" formControlName="is_checked"></mat-checkbox>
                    </td>
                    <td class="folio_tbl">
                      <input type="text" name="folio_no" id="folio_no" class="form-control" formControlName="folio_no"
                        placeholder="Enter Folio Number">
                    </td>
                    <td class="text-center">

                      <button *ngIf="i > 0" mat-icon-button color="warn" (click)="deletemergeFolio(i)">
                        <mat-icon> delete </mat-icon>

                      </button>
                    </td>
                  </ng-container>
                </tr>
              </tbody>
            </table>
          </div>
        </div>


      </ng-container>
      <!-- END-->

        <!-- Cancellation Effective Date -->
        <!-- Installment Date  -->
        <!-- INSTALLMENT Amount -->

      <ng-container
        *ngIf="(__nonfinForm.get('trans_id').value == '7' || __nonfinForm.get('trans_id').value == '8' || __nonfinForm.get('trans_id').value == '9')">

        <div class="row">
          <div class="col-sm-12">
            <label for="installment_dt">Installment Date <span class="text-danger">*</span></label>
            <input type="text" name="installment_dt" id="installment_dt" class="form-control"
              formControlName="installment_dt">
            <div class="invalid-feedback"
              *ngIf="__nonfinForm.get('installment_dt').invalid && (__nonfinForm.get('installment_dt').dirty || __nonfinForm.get('installment_dt').touched)">
              <span class="invalid-feedback" *ngIf="(__nonfinForm.get('installment_dt')).errors?.required">*Please
                provide
                installment date</span>
            </div>
          </div>
        </div>

        <div class="row  my-2">
          <div class="col-sm-12">
            <label for="cancel_effective_date">Cancellation Effective Date <span class="text-danger">*</span></label>
            <input type="date" name="cancel_effective_date" id="cancel_effective_date" class="form-control"
              formControlName="cancel_effective_date">
          </div>
          <div class="invalid-feedback"
            *ngIf="__nonfinForm.get('cancel_effective_date').invalid && (__nonfinForm.get('cancel_effective_date').dirty || __nonfinForm.get('cancel_effective_date').touched)">
            <span class="invalid-feedback" *ngIf="(__nonfinForm.get('cancel_effective_date')).errors?.required">*Please
              provide
              cancellation effective date</span>
          </div>
        </div>

        <div class="row">
          <div class="col-sm-12">
            <label for="installment_amt">Amount</label>
            <input type="text" placeholder="Enter Amount" name="installment_amt" id="installment_amt"
              class="form-control" formControlName="installment_amt">
            <div class="invalid-feedback"
              *ngIf="__nonfinForm.get('installment_amt').invalid && (__nonfinForm.get('installment_amt').dirty || __nonfinForm.get('installment_amt').touched)">

              <span class="invalid-feedback" *ngIf="(__nonfinForm.get('installment_amt')).errors?.required">*Please
                provide
                amount</span>
            </div>
          </div>
        </div>
      </ng-container>
      <!-- END -->

      <!-- Email & mobile for Change Of Contact Details -->
      <ng-container *ngIf="__nonfinForm.get('trans_id').value == '18'">
        <div class="row">
          <div class="col-sm-12">
            <label for="change_type">Change Type <span class="text-danger">*</span></label>
            <select class="form-control" formControlName="change_contact_type" id="change_type">
              <option value="">Select</option>
              <option value="E">Email</option>
              <option value="M">Mobile</option>
              <option value="B">Both</option>
            </select>
          </div>
          <div class="col-sm-12   my-2"
            *ngIf="__nonfinForm.get('change_contact_type').value == 'E' || __nonfinForm.get('change_contact_type').value == 'B'">
            <label for="email">Email <span class="text-danger">*</span></label>
            <input type="email" placeholder="Enter Email" name="email" id="email" formControlName="email"
              class="form-control">
            <div class="invalid-feedback"
              *ngIf="__nonfinForm.get('email').invalid && (__nonfinForm.get('email').dirty || __nonfinForm.get('email').touched)">
              <span class="invalid-feedback" *ngIf="(__nonfinForm.get('email')).errors?.required">*Please provide
                email</span>
              <span class="invalid-feedback" *ngIf="(__nonfinForm.get('email')).errors?.email">*Please provide valid
                email</span>
            </div>
          </div>
          <div class="col-sm-12"
            *ngIf="__nonfinForm.get('change_contact_type').value == 'E' || __nonfinForm.get('change_contact_type').value == 'B'">
            <label for="email_dec">Email Declaration <span class="text-danger">*</span></label>
            <select class="form-control" formControlName="email_dec" id="email_dec">
              <option value="">Select</option>
              <option [value]="dec.id" *ngFor="let dec of __declaration"> {{dec.declaration}}</option>
            </select>
            <div class="invalid-feedback"
              *ngIf="__nonfinForm.get('email_dec').invalid && (__nonfinForm.get('email_dec').dirty || __nonfinForm.get('email_dec').touched)">
              <span class="invalid-feedback" *ngIf="(__nonfinForm.get('email_dec')).errors?.required">*Please provide
                email declaration</span>
            </div>
          </div>
          <div class="col-sm-12  my-2"
            *ngIf="__nonfinForm.get('change_contact_type').value == 'M' || __nonfinForm.get('change_contact_type').value == 'B'">
            <label for="mobile">Mobile <span class="text-danger">*</span></label>
            <input type="text" (keypress)="preventNonumeric($event)" maxlength="10" minlength="10"
              placeholder="Enter Mobile" name="mobile" id="mobile" formControlName="mobile" class="form-control">
            <div class="invalid-feedback"
              *ngIf="__nonfinForm.get('mobile').invalid && (__nonfinForm.get('mobile').dirty || __nonfinForm.get('mobile').touched)">
              <span class="invalid-feedback" *ngIf="(__nonfinForm.get('mobile')).errors?.required">*Please provide
                mobile
                number</span>
              <span class="invalid-feedback" *ngIf="(__nonfinForm.get('mobile')).hasError('minlength')">*mobile number
                must be 10 digits</span>
              <span class="invalid-feedback" *ngIf="(__nonfinForm.get('mobile')).hasError('maxlength')">*mobile number
                must be 10 digits</span>
              <span class="invalid-feedback" *ngIf="(__nonfinForm.get('mobile')).hasError('pattern')">*allow only
                digits</span>

            </div>
          </div>
          <div class="col-sm-12"
            *ngIf="__nonfinForm.get('change_contact_type').value == 'M' || __nonfinForm.get('change_contact_type').value == 'B'">
            <label for="mob_dec">Mobile Declaration <span class="text-danger">*</span></label>
            <select class="form-control" formControlName="mob_dec" id="mob_dec">
              <option value="">Select</option>
              <option [value]="dec.id" *ngFor="let dec of __declaration"> {{dec.declaration}}</option>
            </select>
            <div class="invalid-feedback"
              *ngIf="__nonfinForm.get('mob_dec').invalid && (__nonfinForm.get('mob_dec').dirty || __nonfinForm.get('mob_dec').touched)">
              <span class="invalid-feedback" *ngIf="(__nonfinForm.get('mob_dec')).errors?.required">*Please provide
                mobile declaration</span>
            </div>
          </div>

        </div>
      </ng-container>

      <!-- Address Change -->
      <ng-container *ngIf="__nonfinForm.get('trans_id').value == '22'">
        <div class="row">
          <div class="col-sm-12">
            <label for="addr_line_1">Address Line 1 <span class="text-danger">*</span></label>
            <textarea name="addr_line_1" id="addr_line_1" cols="30" rows="5" class="form-control"
              formControlName="add_line_1"></textarea>
            <div class="invalid-feedback"
              *ngIf="__nonfinForm.get('add_line_1').invalid && (__nonfinForm.get('add_line_1').dirty || __nonfinForm.get('add_line_1').touched)">
              <span class="invalid-feedback" *ngIf="(__nonfinForm.get('add_line_1')).errors?.required">*Please provide
                address line 1</span>
            </div>
          </div>
        </div>

        <div class="row">
          <div class="col-sm-12">
            <label for="addr_line_2">Address Line 2</label>
            <textarea name="addr_line_2" id="addr_line_2" cols="30" rows="5" class="form-control"
              formControlName="add_line_2"></textarea>
          </div>
        </div>

        <div class="row  my-2">
          <div class="col-sm-12">
            <label for="state">State <span class="text-danger">*</span></label>
            <select class="form-control" formControlName="state" id="state">
              <option value="">Select</option>
              <option [value]="state.id" *ngFor="let state of __stateMst">{{state.name}}</option>
              <div class="invalid-feedback"
                *ngIf="__nonfinForm.get('state').invalid && (__nonfinForm.get('state').dirty || __nonfinForm.get('state').touched)">
                <span class="invalid-feedback" *ngIf="(__nonfinForm.get('state')).errors?.required">*Please provide
                  state</span>
              </div>
            </select>
          </div>
        </div>

        <div class="row">
          <div class="col-sm-12">
            <label for="dist">District <span class="text-danger">*</span></label>
            <select class="form-control" formControlName="dist" id="dist">
              <option value="">Select</option>
              <option [value]="district.id" *ngFor="let district of __distMst">{{district.name}}</option>
            </select>
            <div class="invalid-feedback"
              *ngIf="__nonfinForm.get('dist').invalid && (__nonfinForm.get('dist').dirty || __nonfinForm.get('dist').touched)">
              <span class="invalid-feedback" *ngIf="(__nonfinForm.get('dist')).errors?.required">*Please provide
                district</span>
            </div>
          </div>
        </div>

        <div class="row  my-2">
          <div class="col-sm-12">
            <label for="city">City <span class="text-danger">*</span></label>
            <select class="form-control" formControlName="city" id="city">
              <option value="">Select</option>
              <option [value]="city.id" *ngFor="let city of __cityMst">{{city.name}}</option>
            </select>
            <div class="invalid-feedback"
              *ngIf="__nonfinForm.get('city').invalid && (__nonfinForm.get('city').dirty || __nonfinForm.get('city').touched)">
              <span class="invalid-feedback" *ngIf="(__nonfinForm.get('city')).errors?.required">*Please provide
                city</span>
            </div>
          </div>
        </div>

        <div class="row">
          <div class="col-sm-12">
            <label for="pincode">Pincode <span class="text-danger">*</span></label>
            <input type="text" name="pincode" placeholder="Enter Pincode" (keypress)="preventNonumeric($event)"
              maxlength="6" minlength="6" id="pincode" class="form-control" formControlName="pincode">
            <div class="invalid-feedback"
              *ngIf="__nonfinForm.get('pincode').invalid && (__nonfinForm.get('pincode').dirty || __nonfinForm.get('pincode').touched)">
              <span class="invalid-feedback" *ngIf="(__nonfinForm.get('pincode')).errors?.required">*Please provide
                pincode
              </span>
              <span class="invalid-feedback" *ngIf="(__nonfinForm.get('pincode')).hasError('minlength')">*pincode
                must be 6 digits</span>
              <span class="invalid-feedback" *ngIf="(__nonfinForm.get('pincode')).hasError('maxlength')">*pincode
                must be 6 digits</span>
              <span class="invalid-feedback" *ngIf="(__nonfinForm.get('pincode')).hasError('pattern')">*allow only
                digits</span>

            </div>
          </div>
        </div>
      </ng-container>

      <!-- Change Of Name -->
      <ng-container *ngIf="__nonfinForm.get('trans_id').value == '23'">
        <div class="row  my-2">
          <div class="col-sm-12">
            <label for="reason_for_change">Reason For Change <span class="text-danger">*</span></label>
            <select class="form-control" formControlName="reason_for_change" id="reason_for_change"
              class="form-control">
              <option value="">Select</option>
              <option value="M">Due To Marriage</option>
              <option value="O">Others</option>
            </select>
            <div class="invalid-feedback"
              *ngIf="__nonfinForm.get('reason_for_change').invalid && (__nonfinForm.get('reason_for_change').dirty || __nonfinForm.get('reason_for_change').touched)">
              <span class="invalid-feedback" *ngIf="(__nonfinForm.get('reason_for_change')).errors?.required">*Please
                provide reason for change</span>
            </div>
          </div>
        </div>
        <div class="row  my-2">
          <div class="col-sm-12">
            <label for="new_name">New Name <span class="text-danger">*</span></label>
            <input type="text" name="new_name" id="new_name" class="form-control" formControlName="new_name">
            <div class="invalid-feedback"
              *ngIf="__nonfinForm.get('new_name').invalid && (__nonfinForm.get('new_name').dirty || __nonfinForm.get('new_name').touched)">
              <span class="invalid-feedback" *ngIf="(__nonfinForm.get('new_name')).errors?.required">*Please provide new
                name</span>
            </div>
          </div>
        </div>

      </ng-container>

      <!-- Change of type -->
      <ng-container *ngIf="__nonfinForm.get('trans_id').value == '24'">
        <div class="row  my-2">
          <div class="col-sm-12">
            <label for="change_status">Change Status</label>
            <select class="form-control" formControlName="change_status" id="change_status">
              <option value="">Select</option>
              <option [ngValue]="statusChange" *ngFor="let statusChange of __changeOfStatus">{{statusChange.name}}
              </option>
            </select>
            <div class="invalid-feedback"
              *ngIf="__nonfinForm.get('change_status').invalid && (__nonfinForm.get('change_status').dirty || __nonfinForm.get('change_status').touched)">
              <span class="invalid-feedback" *ngIf="(__nonfinForm.get('change_status')).errors?.required">*Please
                provide change type</span>
            </div>
          </div>
        </div>
      </ng-container>

      <!-- Nominee Opt Out -->
      <ng-container *ngIf="__nonfinForm.get('trans_id').value == '25'">
        <div class="row  my-2">
          <div class="col-sm-12">
            <label for="nominee_opt_out">Reason For Nominee Opt Out</label>
            <select class="form-control" formControlName="nominee_opt_out" id="nominee_opt_out">
              <option value="">Select</option>
              <option value="N">Normal</option>
              <option value="C">Client Don't want</option>
            </select>
            <div class="invalid-feedback"
              *ngIf="__nonfinForm.get('nominee_opt_out').invalid && (__nonfinForm.get('nominee_opt_out').dirty || __nonfinForm.get('nominee_opt_out').touched)">
              <span class="invalid-feedback" *ngIf="(__nonfinForm.get('nominee_opt_out')).errors?.required">*Please
                provide reason for nominee opt out</span>
            </div>
          </div>
        </div>
      </ng-container>

      <!-- Folio Pan Updation -->
      <ng-container *ngIf="__nonfinForm.get('trans_id').value == '28'">
        <label for="folio_pan">PAN No<span class="text-danger">*</span></label>
        <input type="text" name="folio_pan" minlength="10" maxlength="10" placeholder="Enter PAN Number" id="folio_pan"
          class="form-control" formControlName="folio_pan">
        <div class="invalid-feedback"
          *ngIf="__nonfinForm.get('folio_pan').invalid && (__nonfinForm.get('folio_pan').dirty || __nonfinForm.get('folio_pan').touched)">
          <span class="invalid-feedback" *ngIf="(__nonfinForm.get('folio_pan')).errors?.required">*Please provide PAN
            number</span>
          <span class="invalid-feedback" *ngIf="(__nonfinForm.get('folio_pan')).errors?.pattern">*Please provide valid
            PAN
            number</span>
          <span class="invalid-feedback" *ngIf="(__nonfinForm.get('folio_pan')).hasError('minlength')">*PAN
            number must be 10 characters long</span>
          <span class="invalid-feedback" *ngIf="(__nonfinForm.get('folio_pan')).hasError('maxlength')">*PAN
            number must be 10 characters long</span>
        </div>
      </ng-container>

      <!-- Redemption -->
      <ng-container *ngIf="__nonfinForm.get('trans_id').value == '29'">
        <div class="row  my-2">
          <div class="col-sm-12">
            <label for="redemp_type">Redemption Type <span class="text-danger">*</span></label>
            <select class="form-control" formControlName="redemp_type" id="redemp_type">
              <option value="">Select</option>
              <option value="U">Unit</option>
              <option value="A">Amount</option>
            </select>
            <div class="invalid-feedback"
              *ngIf="__nonfinForm.get('redemp_type').invalid && (__nonfinForm.get('redemp_type').dirty || __nonfinForm.get('redemp_type').touched)">
              <span class="invalid-feedback" *ngIf="(__nonfinForm.get('redemp_type')).errors?.required">*Please provide
                redemption type</span>
            </div>
          </div>
        </div>
        <ng-container *ngIf="__nonfinForm.get('redemp_type').value == 'U'">
          <div class="row  my-2">
            <div class="col-sm-12">
              <label for="unit_type">Unit Type <span class="text-danger">*</span></label>
              <select class="form-control" formControlName="unit_type" id="unit_type">
                <option value="">Select</option>
                <option value="U">All</option>
                <option value="A">Manual</option>
              </select>
              <div class="invalid-feedback"
                *ngIf="__nonfinForm.get('unit_type').invalid && (__nonfinForm.get('unit_type').dirty || __nonfinForm.get('unit_type').touched)">
                <span class="invalid-feedback" *ngIf="(__nonfinForm.get('unit_type')).errors?.required">*Please provide
                  unit type</span>
              </div>
            </div>
          </div>
          <ng-container *ngIf="__nonfinForm.get('unit_type').value != ''">
            <div class="row  my-2">
              <div class="col-sm-12">
                <label for="unit">Unit<span class="text-danger">*</span></label>
                <input type="text" [readonly]="__nonfinForm.get('unit_type').value == 'U' ? true : false" formControlName="redemp_unit" name="unit" id="unit" class="form-control"
                  placeholder="Enter Unit">
                <div class="invalid-feedback"
                  *ngIf="__nonfinForm.get('redemp_unit').invalid && (__nonfinForm.get('redemp_unit').dirty || __nonfinForm.get('redemp_unit').touched)">
                  <span class="invalid-feedback" *ngIf="(__nonfinForm.get('redemp_unit')).errors?.required">*Please
                    provide unit</span>
                </div>
              </div>
            </div>
          </ng-container>
        </ng-container>
        <ng-container *ngIf="__nonfinForm.get('redemp_type').value == 'A'">
          <div class="row  my-2">
            <div class="col-sm-12">
              <label for="redemp_amount">Amount<span class="text-danger">*</span></label>
              <input type="text" class="form-control" placeholder="Enter Amount" formControlName="redemp_amount"
                name="redemp_amount" id="redemp_amount">
              <div class="invalid-feedback"
                *ngIf="__nonfinForm.get('redemp_amount').invalid && (__nonfinForm.get('redemp_amount').dirty || __nonfinForm.get('redemp_amount').touched)">
                <span class="invalid-feedback" *ngIf="(__nonfinForm.get('redemp_amount')).errors?.required">*Please
                  provide amount</span>
              </div>
            </div>
          </div>
        </ng-container>


      </ng-container>

      <!-- Change Of Bank -->
      <ng-container *ngIf="__nonfinForm.get('trans_id').value == '15'">
        <div class="divider">
          <span>Existing Bank Details</span>
          <hr class="line" />
        </div>
        <div class="row">
          <div class="col-sm-12">
            <label for="accNoforOldBnk">Account Number</label>
            <input type="text"  placeholder="Account Number" name="accNoforOldBnk"
              id="accNoforOldBnk" class="form-control" formControlName="oldbnk_accNo">
          </div>
        </div>
        <div class="row  my-2">
          <div class="col-sm-12">
              <app-core-srch
              [label] = "'MICR Code'"
              [placeholder]="'Search By IFSC,MICR Code, Branch Name'"
              [isPending]="__isSpinner_forExtBank"
              [listItems] = "__oldBnkMst"
              [flag] = "'OB'"
              [isRequired]="true"
              [noDataFoundTitle]="'Sorry!! No Records Found'"
              [noDataFoundSubTitle]="'Banks are not available'"
              [propertiesToShow] = "['bank_name','ifs_code','branch_name']"
              formControlName="oldbnk_micr"
              [displayMode]="displayMode_forExtBnk"
              (setDisplayMode)="displayMode_forExtBnk = $event"
              (selectedItems)="getSelectedItemsFromParent($event)"
              ></app-core-srch>
          </div>
        </div>
        <div class="row"  *ngIf="__dialogForExistingBank && __nonfinForm.get('oldbnk_micr').value">
          <div class="col-sm-12">
            <label for="bnk_name">Bank</label>
            <input type="text" name="bnk_name" [attr.disabled]="true" id="bnk_name" placeholder="Bank Name" formControlName="oldbnk_name"
              class="form-control" />
              <button (click)="openDialog('OB')"
              color="primary"
              [attr.disabled]="true"
              class="viewIconDtls"
              mat-icon-button
              type="button"
                aria-label="Example icon button with a eye icon" title="View Bank Details">
                <mat-icon>remove_red_eye</mat-icon>
              </button>
          </div>
        </div>
      </ng-container>

      <!-- Change Of Bank  & core banking Updation-->
      <ng-container *ngIf="__nonfinForm.get('trans_id').value == '15' || __nonfinForm.get('trans_id').value == '16'">
        <div class="divider">
          <span>
            {{ __nonfinForm.get('trans_id').value == '15' ? 'New Bank Details' : 'Core Banking Details'}}
          </span>
          <hr class="line" />
        </div>
        <div class="row">
          <div class="col-sm-12">
            <label for="accNoforNewBnk">Account Number</label>
            <input type="text" placeholder="Enter Account Number" name="accNoforNewBnk" id="accNoforNewBnk"
              class="form-control" formControlName="newbnk_accNo">
          </div>
        </div>
        <div class="row  my-2">
          <div class="col-sm-12">
            <div class="progressMainSec" appClOutsideClick (appOutsideClick)="outsideClickforbank($event)">
              <div class="searchDiv">
                <label for="__clntCd">MICR Code
                  <span class="text-danger"> *</span>
                </label>
                <input type="search " name="__clntCd" id="__clntCd" class="form-control" formControlName="newbnk_micr"
                  placeholder="Search By IFSC,MICR Code, Branch Name">
                <span class="spinner-border"
                  *ngIf="__isbnkSpinner && __nonfinForm.get('newbnk_micr').value?.length > 1"></span>

                <div class="processMain_2" __searchResVisibility (appOutsideClick)="outsideClickforbank($event)">
                  <div class="serachresult_client" #searchbnk>
                    <ul *ngIf="__bnkMst.length > 0">
                      <li *ngFor="let items of __bnkMst" (click)="getItemsDtls(items,'B')">
                        {{items.bank_name}} | {{items.ifs_code}} | {{items.branch_name}}
                      </li>
                    </ul>
                    <div class="noDataFound" *ngIf="__bnkMst.length == 0">
                      <h5 class="text-center">
                        Sorry!! No Records Found
                      </h5>
                      <p>Banks are not available</p>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="row" *ngIf="__nonfinForm.get('newbnk_name').value && this.__dialogFornewBank">
          <div class="col-sm-12">
            <label for="newbnk_name">Bank</label>
            <input type="text"
            name="newbnk_name"
            id="newbnk_name"
            formControlName="newbnk_name"
            class="form-control"
            [attr.disabled]="true" />
            <button (click)="openDialog('NB')"
            color="primary"
            class="viewIconDtls"
            mat-icon-button type="button"
            aria-label="Example icon button with a eye icon" #tooltip="matTooltip"
            matTooltip="View Bank Details">
            <mat-icon>remove_red_eye</mat-icon>
          </button>
          </div>
        </div>
      </ng-container>


      <!-- SWP & STP Registration -->
      <ng-container *ngIf="__nonfinForm.get('trans_id').value == '30'
      || __nonfinForm.get('trans_id').value == '31'">
        <div class="row" *ngIf="__nonfinForm.get('trans_id').value == '30'">
          <div class="col-sm-12">
            <label for="swp_type">SWP Type <span class="text-danger">*</span></label>
            <select class="form-control" formControlName="swp_type" id="swp_type">
              <option value="">Select</option>
              <option [value]="__swpType.id" *ngFor="let __swpType of __swpMst">{{__swpType.swp_type_name}}</option>
            </select>
            <div class="invalid-feedback"
              *ngIf="__nonfinForm.get('swp_type').invalid && (__nonfinForm.get('swp_type').dirty || __nonfinForm.get('swp_type').touched)">
              <span class="invalid-feedback" *ngIf="(__nonfinForm.get('swp_type')).errors?.required">*Please provide
                SWP type</span>
            </div>
          </div>
        </div>
        <div class="row" *ngIf="__nonfinForm.get('trans_id').value == '31'">
          <div class="col-sm-12">
            <label for="stp_type">STP Type <span class="text-danger">*</span></label>
            <select class="form-control" formControlName="stp_type" id="stp_type">
              <option value="">Select</option>
              <option [value]="__swpType.id" *ngFor="let __swpType of __swpMst">{{__swpType.stp_type_name}}</option>
            </select>
            <div class="invalid-feedback"
              *ngIf="__nonfinForm.get('stp_type').invalid && (__nonfinForm.get('stp_type').dirty || __nonfinForm.get('stp_type').touched)">
              <span class="invalid-feedback" *ngIf="(__nonfinForm.get('stp_type')).errors?.required">*Please provide
                SWP type</span>
            </div>
          </div>
        </div>
        <div class="row  my-2">
          <div class="col-sm-12">
            <label for="swp_freq">
              {{__nonfinForm.get('trans_id').value == '30' ? 'SWP Frequency' : 'STP Frequency'}}
              <span class="text-danger">*</span></label>
            <select name="swp_freq" class="form-control" formControlName="swp_freq" id="swp_freq">
              <option value="">Select</option>
              <option [value]="__freq.id" *ngFor="let __freq of __frequency">{{__freq.freq_name}}</option>
            </select>
            <div class="invalid-feedback"
              *ngIf="__nonfinForm.get('swp_freq').invalid && (__nonfinForm.get('swp_freq').dirty || __nonfinForm.get('swp_freq').touched)">
              <span class="invalid-feedback" *ngIf="(__nonfinForm.get('swp_freq')).errors?.required">*Please provide
                {{__nonfinForm.get('trans_id').value == '30' ? 'SWP' : 'STP'}} frequency</span>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-sm-12">
            <label for="stp_swp_date">
              <!-- SWP Dates  -->
              {{__nonfinForm.get('trans_id').value == '30' ? 'SWP Dates' : 'STP Dates'}}
              <span class="text-danger">*</span>
            </label>
            <!-- <ng-multiselect-dropdown #multiSelect
                id="sip_date"
                [placeholder]="'SWP Dates'"
                [settings]="settings"
                [data]="__dates"
                formControlName="swp_dates"
                [attr.disabled]="true">
              </ng-multiselect-dropdown> -->
            <input type="text" name="stp_swp_date" id="stp_swp_date" class="form-control" formControlName="swp_dates">
            <div class="invalid-feedback"
              *ngIf="__nonfinForm.get('swp_dates').invalid && (__nonfinForm.get('swp_dates').dirty || __nonfinForm.get('swp_dates').touched)">
              <span class="invalid-feedback" *ngIf="(__nonfinForm.get('swp_dates')).errors?.required">*Please provide
                {{__nonfinForm.get('trans_id').value == '30' ? 'SWP' : 'STP'}} Dates</span>
              <span class="invalid-feedback" *ngIf="__nonfinForm.controls['swp_dates'].errors?.DatesExists">
                * Date is not available
              </span>
            </div>

          </div>
        </div>
        <div class="row  my-2">
          <div class="col-sm-12 my-2">
            <label for="swp_start_date">
              {{__nonfinForm.get('trans_id').value == '30' ? 'SWP Start Date' : 'STP Start Date'}}
              <span class="text-danger">*</span></label>
            <input type="date" formControlName="swp_start_date" name="swp_start_date" id="swp_start_date"
              class="form-control">
            <div class="invalid-feedback"
              *ngIf="__nonfinForm.get('swp_start_date').invalid && (__nonfinForm.get('swp_start_date').dirty || __nonfinForm.get('swp_start_date').touched)">
              <span class="invalid-feedback" *ngIf="(__nonfinForm.get('swp_start_date')).errors?.required">*Please
                provide
                {{__nonfinForm.get('trans_id').value == '30' ? 'SWP start date' : 'STP start date'}}
              </span>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-sm-12 my-2">
            <label for="swp_duration">
              {{__nonfinForm.get('trans_id').value == '30' ? 'SWP Duration' : 'STP Duration'}}
              <span class="text-danger">*</span></label>
            <select class="form-control" id="swp_duration" formControlName="swp_duration">
              <option value="">Select {{__nonfinForm.get('trans_id').value == '30' ? ' SWP ' : ' STP '}} Duration</option>
              <option value="M">Manual</option>
              <option value="P">Perpetual</option>
            </select>
            <div class="invalid-feedback"
              *ngIf="__nonfinForm.get('swp_duration').invalid && (__nonfinForm.get('swp_duration').dirty || __nonfinForm.get('swp_duration').touched)">
              <span class="invalid-feedback" *ngIf="(__nonfinForm.get('swp_duration')).errors?.required">*Please provide
                {{__nonfinForm.get('trans_id').value == '30' ? 'SWP' : 'STP'}}
                duration</span>
            </div>
          </div>
        </div>
        <ng-container *ngIf="__nonfinForm.get('swp_duration').value == 'M'">
          <div class="row">
            <div class="col-sm-12 my-2">
              <label for="duration">Duration <span class="text-danger">*</span></label>
              <input type="text" (change)="setEndDT($event)" placeholder="Enter Duration" name="swp_stardurationt_date"
                id="duration" class="form-control" formControlName="duration">
            </div>
          </div>

        </ng-container>
        <div class="row">
          <div class="col-sm-12 my-2">
            <label for="swp_end_date">
              {{__nonfinForm.get('trans_id').value == '30' ? 'SWP' : 'STP'}} End Date
              <span class="text-danger"></span></label>
            <input type="date" name="swp_end_date" id="swp_end_date" class="form-control"
              formControlName="swp_end_date">
            <div class="invalid-feedback"
              *ngIf="__nonfinForm.get('swp_end_date').invalid && (__nonfinForm.get('swp_end_date').dirty || __nonfinForm.get('swp_end_date').touched)">
              <span class="invalid-feedback" *ngIf="(__nonfinForm.get('swp_end_date')).errors?.required">*Please provide
                {{__nonfinForm.get('trans_id').value == '30' ? 'SWP' : 'STP'}} end date
              </span>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-sm-12">
            <label for="swp_amount">
              {{__nonfinForm.get('trans_id').value == '30' ? 'SWP' : 'STP'}} Amount
              <span class="text-danger">*</span></label>
            <input type="text" name="swp_amount" id="swp_amount" class="form-control" formControlName="swp_amount">
            <!-- <span class="invalid-feedback" *ngIf="__isAmtcheck">
             {{'Amount must be greater than ' + (__checkedAmt | currency: 'INR')}}
            </span> -->

            <span  class="invalid-feedback"  *ngIf="__nonfinForm.get('swp_amount').errors?.AmtExists">
              * Amount must be greater than {{__checkedAmt  | currency:'INR'}}
            </span>
          </div>

        </div>
      </ng-container>

      <!-- Minor To Major Updation -->
      <ng-container *ngIf="__nonfinForm.get('trans_id').value == '20'">
        <div class="row">
          <div class="col-sm-12">
            <label for="minorToMajorpan">PAN</label>
            <input type="text" minlength="10" maxlength="10" placeholder="Enter PAN Number" name="minorToMajorpan"
              id="minorToMajorpan" class="form-control" formControlName="minorToMajorpan">
            <div class="invalid-feedback"
              *ngIf="__nonfinForm.get('minorToMajorpan').invalid && (__nonfinForm.get('minorToMajorpan').dirty || __nonfinForm.get('minorToMajorpan').touched)">
              <span class="invalid-feedback" *ngIf="(__nonfinForm.get('minorToMajorpan')).errors?.required">*Please
                provide PAN
                number</span>
              <span class="invalid-feedback" *ngIf="(__nonfinForm.get('minorToMajorpan')).errors?.pattern">*Please
                provide valid PAN
                number</span>
              <span class="invalid-feedback" *ngIf="(__nonfinForm.get('minorToMajorpan')).hasError('minlength')">*PAN
                number must be 10 characters long</span>
              <span class="invalid-feedback" *ngIf="(__nonfinForm.get('minorToMajorpan')).hasError('maxlength')">*PAN
                number must be 10 characters long</span>
            </div>
          </div>
        </div>
        <div class="row  my-2">
          <div class="col-sm-12">
            <label for="kyc_status">KYC Status : </label>
            <mat-radio-group aria-label="Select an option" class="ml-5" color="primary" id="kyc_status"
              formControlName="kyc_status">
              <mat-radio-button value="Y">With KYC</mat-radio-button>
              <mat-radio-button value="N" class="ml-5">Without KYC</mat-radio-button>
            </mat-radio-group>
            <div class="invalid-feedback"
              *ngIf="__nonfinForm.get('kyc_status').invalid && (__nonfinForm.get('kyc_status').dirty || __nonfinForm.get('kyc_status').touched)">
              <span class="invalid-feedback" *ngIf="(__nonfinForm.get('kyc_status')).errors?.required">*Please provide
                KYC status</span>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-sm-12">
            <label for="first_kyc">Client KYC Status<span class="text-danger">*</span>
            </label>
            <select name="first_kyc" id="first_kyc" class="form-control" formControlName="first_kyc">
              <option value="">Select KYC</option>
              <option *ngFor="let __kyc of __kycMst" [value]="__kyc.id"> {{__kyc.value}}</option>
            </select>
            <div class="invalid-feedback"
              *ngIf="__nonfinForm.get('first_kyc').invalid && (__nonfinForm.get('first_kyc').dirty || __nonfinForm.get('first_kyc').touched)">
              <span class="invalid-feedback" *ngIf="(__nonfinForm.get('first_kyc')).errors?.required">*Please provide
                client KYC Status</span>
            </div>
          </div>
        </div>
      </ng-container>

      <!-- Transmission -->
      <ng-container *ngIf="__nonfinForm.get('trans_id').value == '19'">
        <div class="row">
          <div class="col-sm-12">
            <label for="transmission_type">Transmission Type <span class="text-danger">*</span></label>
            <select class="form-control" formControlName="transmission_type" id="transmission_type">
              <option value="">Select</option>
              <option [value]="tnsmission.id" *ngFor="let tnsmission of __trnsmissionType">{{tnsmission.type}}</option>
            </select>
          </div>
        </div>

         <!-- If Transmission Type == '1' || '2' -->
        <ng-container
          *ngIf="__nonfinForm.get('transmission_type').value == '1' || __nonfinForm.get('transmission_type').value == '2'">
          <div class="row  my-2">
            <div class="col-sm-12">
              <table>
                <thead>
                  <tr>
                    <th class="text-center">
                      Second Applicant
                    </th>
                    <th class="text-center">
                      <button mat-button color="primary" type="button" *ngIf="!__isSHowAdditionalTble"
                        (click)="__isSHowAdditionalTble=!__isSHowAdditionalTble">
                        + Add Additional Applicant
                      </button>
                    </th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td>
                      <div class="row mt-5">
                        <div class="col-sm-12 ">
                          <div class="progressMainSec" appClOutsideClick
                            (appOutsideClick)="outsideClickforSecondClient($event)">
                            <div class="searchDiv">
                              <label for="__clntCd">Client Code</label>
                              <input type="search" name="__clntCd" id="__clntCd" class="form-control"
                                formControlName="second_client_code"
                                placeholder="Search By Client Name,Client Code, Email, Mobile, PAN & DOB">
                              <div class="processMain_2" __searchResVisibility
                                (appOutsideClick)="outsideClickforSecondClient($event)">
                                <div class="serachresult_client" #secondclientCd>
                                  <ul *ngIf="__sec_clientMst.length > 0">
                                    <li *ngFor="let items of __sec_clientMst"
                                      (click)="getadditionalApplicant(items,'FC')">
                                      {{items.client_code}} | {{items.pan}} | {{items.client_name}}
                                    </li>
                                  </ul>
                                  <div class="noDataFound" *ngIf="__sec_clientMst.length == 0">
                                    <h5 class="text-center">
                                      Sorry!! No Records Found
                                    </h5>
                                    <p>To create a new client .Please click on Create Client</p>
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>
                        <div class="col-sm-12 my-2">
                          <label for="second_cl_name">Client name</label>
                          <input type="text"
                            [attr.disabled]="__SecondClient && __nonfinForm.get('second_client_code').value"
                            name="second_client_name" id="second_client_name" placeholder="Enter Second Applicant Name"
                            class="form-control" formControlName="second_client_name" />
                        </div>
                        <div class="col-sm-12 my-2">
                          <label for="second_cl_name">PAN No</label>
                          <input type="text" [attr.disabled]="__SecondClient" name="second_client_pan"
                            id="second_client_pan" placeholder="Enter Second Applicant PAN" class="form-control"
                            formControlName="second_client_pan" />
                          <div class="invalid-feedback"
                            *ngIf="__nonfinForm.get('second_client_pan').invalid && (__nonfinForm.get('second_client_pan').dirty || __nonfinForm.get('second_client_pan').touched)">
                            <span class="invalid-feedback"
                              *ngIf="(__nonfinForm.get('second_client_pan')).errors?.required">*Please provide PAN
                              number</span>
                            <span class="invalid-feedback"
                              *ngIf="(__nonfinForm.get('second_client_pan')).errors?.pattern">*Please provide valid PAN
                              number</span>
                            <span class="invalid-feedback"
                              *ngIf="(__nonfinForm.get('second_client_pan')).hasError('minlength')">*PAN
                              number must be 10 characters long</span>
                            <span class="invalid-feedback"
                              *ngIf="(__nonfinForm.get('second_client_pan')).hasError('maxlength')">*PAN
                              number must be 10 characters long</span>
                          </div>
                        </div>
                      </div>
                    </td>
                    <td class="text-center">
                      <ng-container *ngIf="
                          __SecondClient
                          &&__nonfinForm.get('second_client_code').value
                          && __nonfinForm.get('second_client_name').value">
                        <button type="button" mat-button color="primary"
                          (click)="openDialogForAdditionalApplicant('FC')">
                          <mat-icon>visibility</mat-icon> View Details
                        </button>
                      </ng-container>
                    </td>
                  </tr>

                </tbody>
              </table>
              <table *ngIf="__isSHowAdditionalTble">
                <thead>
                  <tr>
                    <th>Third Applicant</th>
                    <th>
                      <button type="button" mat-button color="accent"
                        (click)="__isSHowAdditionalTble=!__isSHowAdditionalTble">
                        <mat-icon> delete </mat-icon>
                        Remove
                      </button>
                    </th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td>
                      <div class="row">
                        <div class="col-sm-12">
                          <div class="progressMainSec" appClOutsideClick
                            (appOutsideClick)="outsideClickforThirdClient($event)">
                            <div class="searchDiv">
                              <label for="__clntCd">Client Code</label>
                              <p class="invalid-feedback"
                                *ngIf="!__ThirdClient && __nonfinForm.get('third_client_code').value && __third_clientMst.length > 0">
                                Client Does Not Exist
                              </p>
                              <input type="search" name="__clntCd" id="__clntCd" class="form-control"
                                formControlName="third_client_code"
                                placeholder="Search By Client Name,Client Code, Email, Mobile, PAN & DOB">
                              <div class="processMain_2" __searchResVisibility
                                (appOutsideClick)="outsideClickforThirdClient($event)">
                                <div class="serachresult_client" #thirdclientCd>
                                  <ul *ngIf="__third_clientMst.length > 0">
                                    <li *ngFor="let items of __third_clientMst"
                                      (click)="getadditionalApplicant(items,'TC')">
                                      {{items.client_code}} | {{items.pan}} | {{items.client_name}}
                                    </li>
                                  </ul>
                                  <div class="noDataFound" *ngIf="__third_clientMst.length == 0">
                                    <h5 class="text-center">
                                      Sorry!! No Records Found
                                    </h5>
                                    <p>To create a new client .Please click on Create Client</p>
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>
                        <div class="col-sm-12  my-2">
                          <label for="second_cl_name">Client name</label>
                          <input #thirdClName type="text" [attr.disabled]="__ThirdClient" name="third_client_name"
                            placeholder="Enter Additional Applicant Name" id="third_client_name" class="form-control"
                            formControlName="third_client_name" />
                        </div>
                        <div class="col-sm-12">
                          <label for="second_cl_name">PAN No</label>
                          <input type="text" [attr.disabled]="__ThirdClient" name="third_client_pan"
                            placeholder="Enter Additional Applicant PAN" id="third_client_pan" class="form-control"
                            formControlName="third_client_pan" />
                          <div class="invalid-feedback"
                            *ngIf="__nonfinForm.get('third_client_pan').invalid && (__nonfinForm.get('third_client_pan').dirty || __nonfinForm.get('third_client_pan').touched)">
                            <span class="invalid-feedback"
                              *ngIf="(__nonfinForm.get('third_client_pan')).errors?.required">*Please provide PAN
                              number</span>
                            <span class="invalid-feedback"
                              *ngIf="(__nonfinForm.get('third_client_pan')).errors?.pattern">*Please provide valid PAN
                              number</span>
                            <span class="invalid-feedback"
                              *ngIf="(__nonfinForm.get('third_client_pan')).hasError('minlength')">*PAN
                              number must be 10 characters long</span>
                            <span class="invalid-feedback"
                              *ngIf="(__nonfinForm.get('third_client_pan')).hasError('maxlength')">*PAN
                              number must be 10 characters long</span>
                          </div>
                        </div>
                      </div>
                    </td>
                    <td>
                      <button type="button" mat-button color="primary" (click)="openDialogForAdditionalApplicant('TC')">
                        <mat-icon>visibility</mat-icon> View Details
                      </button>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </ng-container>
        <!-- End -->

         <!-- If Transmission Type == '3' -->
        <ng-container *ngIf="__nonfinForm.get('transmission_type').value == '3'">
          <div class="row  my-2">
            <div class="col-sm-12">
              <label for="existing_mode_of_holding">Existing Mode of Holding</label>
              <select class="form-control" id="existing_mode_of_holding" formControlName="existing_mode_of_holding">
                <option value="">Select</option>
                <option value="A">Anyone Or Survivor</option>
                <option value="J">Joint</option>
                <option value="S">Single</option>
              </select>
            </div>
          </div>
          <!-- If Existing Mode of holding is 'Joint/ Anyone Or Survivor' -->
          <ng-container
          *ngIf="__nonfinForm.get('existing_mode_of_holding').value == 'J' || __nonfinForm.get('existing_mode_of_holding').value == 'A'">
          <table>
            <thead>
              <tr>
                <th class="text-center">Existing Second Applicant</th>
                <th class="text-center">
                  <button mat-button color="primary" type="button" *ngIf="!__isShowExThirdClient"
                    (click)="__isShowExThirdClient=!__isShowExThirdClient">
                    + Add Additional Applicant
                  </button>
                </th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>
                  <div class="row">
                    <div class="col-sm-12">
                      <div class="progressMainSec" appClOutsideClick
                        (appOutsideClick)="outsideClickforExistingSecondClient($event)">
                        <div class="searchDiv">
                          <label for="__clntCd">Client Details</label>
                          <input type="search" name="__clntCd" id="__clntCd" class="form-control"
                            formControlName="existing_second_client_code"
                            placeholder="Search By Client Name,Client Code, Email, Mobile, PAN & DOB">
                          <div class="processMain_2" __searchResVisibility
                            (appOutsideClick)="outsideClickforExistingSecondClient($event)">
                            <div class="serachresult_client" #secondexistingSecclientCd>
                              <ul *ngIf="__ex_sec_client.length > 0">
                                <li *ngFor="let items of __ex_sec_client"
                                  (click)="getadditionalApplicant(items,'ESC')">
                                  {{items.client_code}} | {{items.pan}} | {{items.client_name}}
                                </li>
                              </ul>
                              <div class="noDataFound" *ngIf="__ex_sec_client.length == 0">
                                <h5 class="text-center">
                                  Sorry!! No Records Found
                                </h5>
                                <p>To create a new client .Please click on Create Client</p>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                    <div class="col-sm-12  my-2">
                      <label for="existing_second_client_name">
                        Client Name
                      </label>
                      <input type="text" [attr.disabled]="true" class="form-control"
                        name="existing_second_client_name" id="existing_second_client_name"
                        formControlName="existing_second_client_name">
                    </div>
                    <div class="col-sm-12">
                      <label for="existing_second_client_pan">
                        PAN
                      </label>
                      <input [attr.disabled]="true" type="text" class="form-control" name="existing_second_client_pan"
                        id="existing_second_client_pan" formControlName="existing_second_client_pan">
                    </div>
                  </div>
                </td>
                <td class="text-center">
                  <!-- <ng-container *ngIf="!__exsitingSecClient">
                    <button color="primary" type="button" mat-button [matMenuTriggerFor]="menu">
                      <mat-icon>add</mat-icon> Create Client
                    </button>
                    <mat-menu #menu="matMenu">
                      <div class="row p-0 m-0">
                        <div title="{{clOption.name}}" class="col-sm-4 d-flex justify-content-center headerMenu"
                          *ngFor="let clOption of __mcOptionMenu" (click)="openDialogForclientcreation(clOption,'ESC')">
                          <mat-icon>{{clOption.icon}}</mat-icon>
                        </div>
                      </div>
                    </mat-menu>
                  </ng-container> -->
                  <ng-container *ngIf="__exsitingSecClient">
                    <button (click)="openDialog('ESC')" color="primary" mat-button type="button"
                      aria-label="Example icon button with a eye icon" title="View Client Details">
                      <mat-icon>remove_red_eye</mat-icon>
                      View Details
                    </button>
                  </ng-container>
                </td>
              </tr>
            </tbody>

          </table>
          <table *ngIf="__isShowExThirdClient">
            <thead>
              <tr>
                <th class="text-center">
                  Existing Third Applicant
                </th>
                <th class="text-center">
                  <button type="button" mat-button color="accent"
                    (click)="__isShowExThirdClient=!__isShowExThirdClient">
                    <mat-icon> close </mat-icon>
                    Cancel
                  </button>
                </th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>
                  <div class="row">
                    <div class="col-sm-12">
                      <div class="progressMainSec" appClOutsideClick
                        (appOutsideClick)="outsideClickforExistingThirdClient($event)">
                        <div class="searchDiv">
                          <label for="__clntCd">Client Details</label>
                          <input type="search" name="__clntCd" id="__clntCd" class="form-control"
                            formControlName="existing_third_client_code"
                            placeholder="Search By Client Name,Client Code, Email, Mobile, PAN & DOB">
                          <div class="processMain_2" __searchResVisibility
                            (appOutsideClick)="outsideClickforExistingThirdClient($event)">
                            <div class="serachresult_client" #secondexistingThirdclientCd>
                              <ul *ngIf="__ex_third_client.length > 0">
                                <li *ngFor="let items of __ex_third_client"
                                  (click)="getadditionalApplicant(items,'ETC')">
                                  {{items.client_code}} | {{items.pan}} | {{items.client_name}}
                                </li>
                              </ul>
                              <div class="noDataFound" *ngIf="__ex_third_client.length == 0">
                                <h5 class="text-center">
                                  Sorry!! No Records Found
                                </h5>
                                <p>To create a new client .Please click on Create Client</p>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                    <div class="col-sm-12  my-2">
                      <label for="existing_third_client_name">
                        Client Name
                      </label>
                      <input type="text" [attr.disabled]="true" class="form-control" name="existing_third_client_name"
                        id="existing_third_client_name" formControlName="existing_third_client_name">
                    </div>
                    <div class="col-sm-12">
                      <label for="existing_third_client_pan">
                        PAN
                      </label>
                      <input [attr.disabled]="true" type="text" class="form-control" name="existing_third_client_pan"
                        id="existing_third_client_pan" formControlName="existing_third_client_pan">
                    </div>
                  </div>
                </td>
                <td class="text-center">
                  <!-- <ng-container *ngIf="!__exsitingThirdClient">
                      <button color="primary" type="button" mat-button [matMenuTriggerFor]="menu">
                        <mat-icon>add</mat-icon> Create Client
                      </button>
                      <mat-menu #menu="matMenu">
                        <div class="row p-0 m-0">
                          <div title="{{clOption.name}}" class="col-sm-4 d-flex justify-content-center headerMenu"
                            *ngFor="let clOption of __mcOptionMenu" (click)="openDialogForclientcreation(clOption,'ETC')">
                            <mat-icon>{{clOption.icon}}</mat-icon>
                          </div>
                        </div>
                      </mat-menu>
                    </ng-container> -->
                  <ng-container *ngIf="__exsitingThirdClient">
                    <button (click)="openDialog('ETC')" color="primary" mat-button type="button"
                      aria-label="Example icon button with a eye icon" title="View Client Details">
                      <mat-icon>remove_red_eye</mat-icon>
                      View Details
                    </button>
                  </ng-container>
                </td>
              </tr>
            </tbody>
          </table>
        </ng-container>
        </ng-container>
        <!-- End -->
        <!-- ITransmission Type == '4' || '3' -->
        <ng-container
          *ngIf="__nonfinForm.get('transmission_type').value == '3'
          || __nonfinForm.get('transmission_type').value == '4'">
          <div class="row" [ngClass]="{' my-2' : (__nonfinForm.get('transmission_type').value == '4' || __nonfinForm.get('transmission_type').value == '3')}">
            <div [ngClass]="{'col-sm-12':!__isFirstClaimant,'col-sm-9':__isFirstClaimant}">
              <div class="progressMainSec" appClOutsideClick (appOutsideClick)="outsideClickforClaimant($event)">
                <div class="searchDiv">
                  <label for="claimant_first_client_code">Claiment {{(__nonfinForm.get('transmission_type').value ==
                    '4') ? 'HUF' : ''}} Details</label>
                  <input type="search" name="claimant_first_client_code" id="claimant_first_client_code"
                    class="form-control" formControlName="claimant_first_client_code"
                    placeholder="Search By  Name, Code, Email, Mobile, PAN & DOB">
                  <div class="processMain_2" __searchResVisibility (appOutsideClick)="outsideClickforClaimant($event)">
                    <div class="serachresult_client" #secondFirstCliamant>
                      <ul *ngIf="__claimant_first.length > 0">
                        <li *ngFor="let items of __claimant_first" (click)="getadditionalApplicant(items,'C1')">
                          {{items.client_code}} | {{items.pan}} | {{items.client_name}}
                        </li>
                      </ul>
                      <div class="noDataFound" *ngIf="__claimant_first.length == 0">
                        <h5 class="text-center">
                          Sorry!! No Records Found
                        </h5>
                        <p>To create a new client .Please click on Create Client</p>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div class="col-sm-3 clientCode"
              *ngIf="__isFirstClaimant && __nonfinForm.get('claimant_first_client_code').value">
              <button color="primary" type="button" mat-button [matMenuTriggerFor]="menu">
                <mat-icon>add</mat-icon> Create Client
              </button>
              <mat-menu #menu="matMenu">
                <div class="row p-0 m-0">
                  <div title="{{clOption.name}}" class="col-sm-4 d-flex justify-content-center headerMenu"
                    *ngFor="let clOption of __mcOptionMenu" (click)="openDialogForclientcreation(clOption,'C1')">
                    <mat-icon>{{clOption.icon}}</mat-icon>
                  </div>
                </div>
              </mat-menu>
            </div>
          </div>
          <ng-container
            *ngIf="__FirstClaimant && __nonfinForm.get('claimant_first_client_code').value && __nonfinForm.get('claimant_first_client_name').value">
            <div class="row  my-2">
              <div [ngClass]="{'col-sm-12': !__FirstClaimant,'col-sm-9':__FirstClaimant}">
                <label for="claimant_first_client_name">
                  Claimant {{(__nonfinForm.get('transmission_type').value == '4') ? 'HUF' : ''}} Name
                </label>
                <input [attr.disabled]="true" type="search" name="claimant_first_client_name"
                  id="claimant_first_client_name" class="form-control" formControlName="claimant_first_client_name">
              </div>
              <div class="col-sm-3  clientCode" *ngIf="__FirstClaimant">
                <button (click)="openDialog('C1')" color="primary" mat-button type="button"
                  aria-label="Example icon button with a eye icon" title="View Client Details">
                  <mat-icon>remove_red_eye</mat-icon>
                  View Details
                </button>
              </div>

            </div>
          </ng-container>
        </ng-container>

          <!-- New Mode Of Holding -->
        <ng-container *ngIf="__nonfinForm.get('transmission_type').value == '3'">
          <div class="row  my-2">
            <div class="col-sm-12">
              <label for="new_mode_of_holding">New Mode of Holding</label>
              <select class="form-control" id="new_mode_of_holding" formControlName="new_mode_of_holding">
                <option value="">Select</option>
                <option value="A">Anyone Or Survivor</option>
                <option value="J">Joint</option>
                <option value="S">Single</option>
              </select>
            </div>
          </div>
          <ng-container
            *ngIf="__nonfinForm.get('new_mode_of_holding').value == 'J' || __nonfinForm.get('new_mode_of_holding').value == 'A'">
            <table>
              <thead>
                <tr>
                  <th class="text-center">
                    Additional Second Claiment
                  </th>
                  <th class="text-center">
                    <button mat-button color="primary" type="button"
                      (click)="__isShowNewThirdClient = !__isShowNewThirdClient" *ngIf="!__isShowNewThirdClient">
                      + Add Additional Claiment
                    </button>
                  </th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>
                    <div class="row">
                      <div class="col-sm-12">
                        <div class="progressMainSec" appClOutsideClick
                          (appOutsideClick)="outsideClickfornewSecondClient($event)">
                          <div class="searchDiv">
                            <label for="__clntCd">Client Details</label>
                            <input type="search" name="__clntCd" id="__clntCd" class="form-control"
                              formControlName="new_second_client_code"
                              placeholder="Search By Client Name,Client Code, Email, Mobile, PAN & DOB">
                            <div class="processMain_2" __searchResVisibility
                              (appOutsideClick)="outsideClickfornewSecondClient($event)">
                              <div class="serachresult_client" #secondnewSecclientCd>
                                <ul *ngIf="__new_sec_client.length > 0">
                                  <li *ngFor="let items of __new_sec_client"
                                    (click)="getadditionalApplicant(items,'NSC')">
                                    {{items.client_code}} | {{items.pan}} | {{items.client_name}}
                                  </li>
                                </ul>
                                <div class="noDataFound" *ngIf="__new_sec_client.length == 0">
                                  <h5 class="text-center">
                                    Sorry!! No Records Found
                                  </h5>
                                  <p>To create a new client .Please click on Create Client</p>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                      <div class="col-sm-12  my-2">
                        <label for="new_second_client_name">
                          Client Name
                        </label>
                        <input type="text" [attr.disabled]="true" class="form-control" name="new_second_client_name"
                          id="new_second_client_name" formControlName="new_second_client_name">
                      </div>
                      <div class="col-sm-12">
                        <label for="new_second_client_pan">
                          PAN
                        </label>
                        <input [attr.disabled]="true" type="text" class="form-control" name="new_second_client_pan"
                          id="new_second_client_pan" formControlName="new_second_client_pan">
                      </div>
                    </div>
                  </td>
                  <td class="text-center">
                    <ng-container *ngIf="!__newSecClient">
                      <button color="primary" type="button" mat-button [matMenuTriggerFor]="menu">
                        <mat-icon>add</mat-icon> Create Client
                      </button>
                      <mat-menu #menu="matMenu">
                        <div class="row p-0 m-0">
                          <div title="{{clOption.name}}" class="col-sm-4 d-flex justify-content-center headerMenu"
                            *ngFor="let clOption of __mcOptionMenu"
                            (click)="openDialogForclientcreation(clOption,'NSC')">
                            <mat-icon>{{clOption.icon}}</mat-icon>
                          </div>
                        </div>
                      </mat-menu>
                    </ng-container>
                    <ng-container *ngIf="__newSecClient">
                      <button (click)="openDialog('NSC')" color="primary" mat-button type="button"
                        aria-label="Example icon button with a eye icon" title="View Client Details">
                        <mat-icon>remove_red_eye</mat-icon>
                        View Details
                      </button>
                    </ng-container>
                  </td>
                </tr>
              </tbody>
            </table>
            <table *ngIf="__isShowNewThirdClient">
              <thead>
                <tr>
                  <th class="text-center">Additional Third Applicant</th>
                  <th class="text-center">
                    <button type="button" mat-button color="accent"
                      (click)="__isShowNewThirdClient=!__isShowNewThirdClient">
                      <mat-icon> close </mat-icon>
                      Cancel
                    </button>
                  </th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>
                    <div class="row">
                      <div class="col-sm-12">
                        <div class="progressMainSec" appClOutsideClick
                          (appOutsideClick)="outsideClickfornewThirdClient($event)">
                          <div class="searchDiv">
                            <label for="__clntCd">Client Details</label>
                            <input type="search" name="__clntCd" id="__clntCd" class="form-control"
                              formControlName="new_third_client_code"
                              placeholder="Search By Client Name,Client Code, Email, Mobile, PAN & DOB">
                            <div class="processMain_2" __searchResVisibility
                              (appOutsideClick)="outsideClickfornewThirdClient($event)">
                              <div class="serachresult_client" #secondnewThirdclientCd>
                                <ul *ngIf="__new_third_client.length > 0">
                                  <li *ngFor="let items of __new_third_client"
                                    (click)="getadditionalApplicant(items,'NTC')">
                                    {{items.client_code}} | {{items.pan}} | {{items.client_name}}
                                  </li>
                                </ul>
                                <div class="noDataFound" *ngIf="__new_sec_client.length == 0">
                                  <h5 class="text-center">
                                    Sorry!! No Records Found
                                  </h5>
                                  <p>To create a new client .Please click on Create Client</p>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                      <div class="col-sm-12  my-2">
                        <label for="new_third_client_name">
                          Client Name
                        </label>
                        <input type="text" [attr.disabled]="true" class="form-control" name="new_third_client_name"
                          id="new_third_client_name" formControlName="new_third_client_name">
                      </div>
                      <div class="col-sm-12">
                        <label for="new_third_client_pan">
                          PAN
                        </label>
                        <input [attr.disabled]="true" type="text" class="form-control" name="new_third_client_pan"
                          id="new_third_client_pan" formControlName="new_third_client_pan">
                      </div>
                    </div>
                  </td>
                  <td class="text-center">
                    <ng-container *ngIf="!__newThirdClient">
                      <button color="primary" type="button" mat-button [matMenuTriggerFor]="menu">
                        <mat-icon>add</mat-icon> Create Client
                      </button>
                      <mat-menu #menu="matMenu">
                        <div class="row p-0 m-0">
                          <div title="{{clOption.name}}" class="col-sm-4 d-flex justify-content-center headerMenu"
                            *ngFor="let clOption of __mcOptionMenu"
                            (click)="openDialogForclientcreation(clOption,'NTC')">
                            <mat-icon>{{clOption.icon}}</mat-icon>
                          </div>
                        </div>
                      </mat-menu>
                    </ng-container>
                    <ng-container *ngIf="__newThirdClient">
                      <button (click)="openDialog('NTC')" color="primary" mat-button type="button"
                        aria-label="Example icon button with a eye icon" title="View Client Details">
                        <mat-icon>remove_red_eye</mat-icon>
                        View Details
                      </button>
                    </ng-container>
                  </td>
                </tr>
              </tbody>
            </table>
          </ng-container>
        </ng-container>


        <ng-container *ngIf="__nonfinForm.get('transmission_type').value == '5'">
          <div class="row mt-5">
            <div class="col-sm-12">
              <table>
                <thead>
                  <tr>
                    <th class="text-center">Claimants Details</th>
                    <th class="text-center">
                      <button *ngIf="t5_clientDtls.controls.length < 7" mat-button color="primary" type="button"
                        (click)="addClient()">+ Additional Claimant</button>
                    </th>
                  </tr>
                </thead>
                <tbody formArrayName="t5_clientDtls">

                  <tr *ngFor="let item of t5_clientDtls.controls; let i = index;">
                    <ng-container [formGroupName]="i">
                      <td>
                        <div class="row">
                          <div class="col-sm-12">
                            <input type="hidden" name="id" formControlName="id" value="{{i}}" class="form-control">
                            <div class="progressMainSec" appClOutsideClick
                              (appOutsideClick)="outsideClickforClaimantT5($event,i)">
                              <div class="searchDiv">
                                <label for="client_code">Claiment Details</label>
                                <input type="search" name="client_code" id="client_code" class="form-control"
                                  formControlName="client_code"
                                  placeholder="Search By  Name, Code, Email, Mobile, PAN & DOB">
                                <div class="processMain_2" __searchResVisibility
                                  (appOutsideClick)="outsideClickforClaimantT5($event,i)">
                                  <div class="serachresult_client" #secondCliamants>
                                    <ul *ngIf="__claimantMst.length > 0">
                                      <li *ngFor="let items of __claimantMst" (click)="getclaimaents(items,i)">
                                        {{items.client_code}} | {{items.pan}} | {{items.client_name}}
                                      </li>
                                    </ul>
                                    <div class="noDataFound" *ngIf="__claimantMst.length == 0">
                                      <h5 class="text-center">
                                        Sorry!! No Records Found
                                      </h5>
                                      <p>To create a new client .Please click on Create Client</p>
                                    </div>
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>
                        <div class="row  my-2">
                          <div class="col-sm-12">
                            <label for="claimant_name_{{i}}">Claiment Name</label>
                            <input placeholder="Name" [attr.disabled]="true" type="search" name="claimant_name_{{i}}"
                              id="claimant_name_{{i}}" class="form-control" formControlName="client_name">
                          </div>
                        </div>
                        <div class="row">
                          <div class="col-sm-12">
                            <label for="claimant_pan_{{i}}">PAN</label>
                            <input placeholder="PAN Number" [attr.disabled]="true" type="search"
                              name="claimant_pan_{{i}}" id="claimant_pan_{{i}}" class="form-control"
                              formControlName="pan">
                          </div>
                        </div>
                      </td>
                      <td class="text-center">
                        <button color="primary" type="button"
                          *ngIf="t5_clientDtls.controls[i].get('client_code').value && __claimantMst.length == 0"
                          mat-button>
                          <mat-icon>add</mat-icon> Create Client
                        </button>
                        <!-- <mat-menu #menu="matMenu">
                           [matMenuTriggerFor]="menu"
                          <div class="row p-0 m-0">
                            <div title="{{clOption.name}}" class="col-sm-4 d-flex justify-content-center headerMenu"
                              *ngFor="let clOption of __mcOptionMenu" (click)="openDialogForclientcreation(clOption,'F')">
                              <mat-icon>{{clOption.icon}}</mat-icon>
                            </div>
                          </div>
                        </mat-menu> -->
                        <button *ngIf="i > 0" mat-button color="accent" (click)="deleteClient(i)">
                          <mat-icon> delete </mat-icon>
                          Remove
                        </button>
                      </td>
                    </ng-container>
                  </tr>
                </tbody>
                <tfoot>
                  <tr>
                    <th class="text-center">Claimants Details</th>
                    <th class="text-center">
                      <button mat-button color="primary" type="button" (click)="addClient()">+ Additional
                        Claimant</button>
                    </th>
                  </tr>
                </tfoot>
              </table>
            </div>
          </div>
        </ng-container>

      </ng-container>

      <!-- Redemption -->
      <ng-container *ngIf="__nonfinForm.get('trans_id').value == '17'">
        <div class="row">
          <div class="col-sm-12">
            <label for="warrant_no">Warrant Number <span class="text-danger">*</span></label>
            <input type="text" placeholder="Enter Warrant Number" name="warrant_no" id="warrant_no" class="form-control"
              formControlName="warrant_no">
            <div class="invalid-feedback"
              *ngIf="__nonfinForm.get('warrant_no').invalid && (__nonfinForm.get('warrant_no').dirty || __nonfinForm.get('warrant_no').touched)">
              <span class="invalid-feedback" *ngIf="(__nonfinForm.get('warrant_no')).errors?.required">*Please provide
                warrant number</span>
            </div>
          </div>
        </div>
        <div class="row  my-2">
          <div class="col-sm-12">
            <label for="warrant_amt">Warrant Amount <span class="text-danger">*</span></label>
            <input type="text" placeholder="Enter Warrant Amount" name="warrant_amt" id="warrant_amt"
              class="form-control" formControlName="warrant_amt">
            <div class="invalid-feedback"
              *ngIf="__nonfinForm.get('warrant_amt').invalid && (__nonfinForm.get('warrant_amt').dirty || __nonfinForm.get('warrant_amt').touched)">
              <span class="invalid-feedback" *ngIf="(__nonfinForm.get('warrant_amt')).errors?.required">*Please provide
                warrant amount</span>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-sm-12">
            <label for="warrant_dt">Warrant Date <span class="text-danger">*</span></label>
            <input type="date" name="warrant_dt" id="warrant_dt" class="form-control" formControlName="warrant_dt">
            <div class="invalid-feedback"
              *ngIf="__nonfinForm.get('warrant_dt').invalid && (__nonfinForm.get('warrant_dt').dirty || __nonfinForm.get('warrant_dt').touched)">
              <span class="invalid-feedback" *ngIf="(__nonfinForm.get('warrant_dt')).errors?.required">*Please provide
                warrant date</span>
            </div>
          </div>
        </div>
        <div class="row my-2">
          <div class="col-sm-12">
            <label for="warrant_remarks">Warrant Remarks</label>
            <textarea class="form-control" placeholder="Enter Warrant Remarks" formControlName="warrant_remarks"
              id="warrant_remarks" rows="3" cols="12"></textarea>
          </div>
        </div>
      </ng-container>

      <!-- Change Mode Of Holding -->
      <ng-container *ngIf="__nonfinForm.get('trans_id').value == '32'">
        <div class="row">
          <div class="col-sm-12">
            <label for="change_mode_of_holding">Existing Mode Of Holding <span class="text-danger">*</span></label>
            <select class="form-control" id="change_mode_of_holding" formControlName="change_existing_mode_of_holding">
              <option value="">Select</option>
              <option value="J">Joint</option>
              <option value="A">Anyone Or Survivor</option>
            </select>
            <div class="invalid-feedback"
              *ngIf="__nonfinForm.get('change_existing_mode_of_holding').invalid && (__nonfinForm.get('change_existing_mode_of_holding').dirty || __nonfinForm.get('change_existing_mode_of_holding').touched)">
              <span class="invalid-feedback"
                *ngIf="(__nonfinForm.get('change_existing_mode_of_holding')).errors?.required">*Please provide existing
                mode of holding</span>
            </div>
          </div>
          <div class="col-sm-12  my-2">
            <label for="change_new_mode_of_holding">New Mode Of Holding</label>
            <select [attr.disabled]="true" class="form-control" id="change_new_mode_of_holding"
              formControlName="change_new_mode_of_holding">
              <option value="">Select</option>
              <option value="J">Joint</option>
              <option value="A">Anyone Or Survivor</option>
            </select>
          </div>
        </div>
      </ng-container>

      <!-- Nominee  Change-->
      <ng-container *ngIf="__nonfinForm.get('trans_id').value == '11'">
        <div class="row mt-5">
          <div class="col-sm-12">
            <table>
              <thead>
                <tr>
                  <th colspan="3" class="text-center">
                    <h5>Existing Nominees</h5>
                  </th>
                </tr>
                <tr>
                  <th class="text-center">
                    Name
                  </th>
                  <th class="text-center">Percentage(%)</th>
                  <th class="text-center">
                    <button mat-icon-button *ngIf="existing_nominee.controls.length < 3" type="button"
                      (click)="addExistingNominee()">
                      <mat-icon>add</mat-icon>
                    </button>
                  </th>
                </tr>
              </thead>
              <tbody formArrayName="existing_nominee">
                <tr *ngFor="let item of existing_nominee.controls; let i = index;">
                  <ng-container [formGroupName]="i">
                    <td class="nominee_tbl">
                      <input type="text" name="nomine_name" id="nomine_name" class="form-control"
                        formControlName="nominee_name" placeholder="Enter  Name">
                    </td>
                    <td class="nominee_tbl">
                      <input type="text"  maxlength="3" name="percentage" id="percentage" class="form-control" formControlName="percentage"
                        placeholder="Enter Percentage">
                        <div class="invalid-feedback"
                        *ngIf="existing_nominee.controls[i].get('percentage').invalid && (existing_nominee.controls[i].get('percentage').dirty || existing_nominee.controls[i].get('percentage').touched)">
                        <span class="invalid-feedback" *ngIf="(existing_nominee.controls[i].get('percentage')).hasError('pattern')">*allow only
                          digits</span>
                          <span class="invalid-feedback" *ngIf="existing_nominee.controls[i].get('percentage').errors?.percentageExists">
                            * Percentage must not less than or equals to 100
                          </span>
                      </div>
                    </td>
                    <td class="text-center">
                      <button *ngIf="i > 0" mat-icon-button color="warn" (click)="deletenominees(i,'E')">
                        <mat-icon> delete </mat-icon>

                      </button>
                    </td>
                  </ng-container>
                </tr>
              </tbody>
            </table>
          </div>
          <div class="col-sm-12 text-center">
            <button mat-icon-button type="button" disabled>
              <mat-icon class="sync_alt">
                sync_alt
              </mat-icon>
            </button>
          </div>
        </div>
      </ng-container>
      <!-- Nominee  Change & Addition-->
      <ng-container *ngIf="__nonfinForm.get('trans_id').value == '21' || __nonfinForm.get('trans_id').value == '11'">
        <div class="row">
          <div class="col-sm-12">
            <table>
              <thead>
                <tr>
                  <th colspan="3" class="text-center">
                    <h5>New Nominees</h5>
                  </th>
                </tr>
                <tr>
                  <th class="text-center">
                    Name
                  </th>
                  <th class="text-center">Percentage(%)</th>
                  <th class="text-center">
                    <button mat-icon-button *ngIf="new_nominee.controls.length < 3" type="button"
                      (click)="addNewNominee()">
                      <mat-icon>add</mat-icon>
                    </button>
                  </th>
                </tr>
              </thead>
              <tbody formArrayName="new_nominee">
                <tr *ngFor="let item of new_nominee.controls; let i = index;">
                  <ng-container [formGroupName]="i">
                    <td class="nominee_tbl">
                      <input type="text" name="nomine_name" id="nomine_name" class="form-control"
                        formControlName="nominee_name" placeholder="Enter Name">
                    </td>
                    <td class="nominee_tbl">
                      <input type="text"  maxlength="3" name="percentage" id="percentage" class="form-control" formControlName="percentage"
                      placeholder="Enter Percentage">
                      <div class="invalid-feedback"
                        *ngIf="new_nominee.controls[i].get('percentage').invalid && (new_nominee.controls[i].get('percentage').dirty || new_nominee.controls[i].get('percentage').touched)">
                        <span class="invalid-feedback" *ngIf="(new_nominee.controls[i].get('percentage')).hasError('pattern')">*allow only
                          digits</span>
                      </div>
                    </td>
                    <td class="text-center">
                      <button *ngIf="i > 0" mat-icon-button color="warn" (click)="deletenominees(i,'N')">
                        <mat-icon> delete </mat-icon>
                      </button>
                    </td>
                  </ng-container>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </ng-container>

      <!-- Upload File -->
      <div class="row  my-2">
        <div class="col-sm-12 ">
          <label for="file">Upload Scan Application Form <span class="text-danger">*</span></label>
          <input type="file" name="file" id="file" formControlName="file" class="form-control"
            (change)="getFIle($event.target)" accept=".pdf">
            <mat-hint class="mt-2"><p class="m-0">Allowed format: PDF (size upto: 10MB)</p></mat-hint>

          <div class="invalid-feedback"
            *ngIf=" __nonfinForm.get('file').invalid && ( __nonfinForm.get('file').dirty ||  __nonfinForm.get('file').touched)">
            <span class="invalid-feedback" *ngIf=" __nonfinForm.get('file').errors?.required">*Please
              provide file</span>
            <span class="invalid-feedback" *ngIf="__nonfinForm.get('file').errors?.inValidExt">*Invalid
              file extension.</span>
            <span class="invalid-feedback" *ngIf="__nonfinForm.get('file').errors?.fileSizeValidator">*File size
              must
              not exceed than
              10MB.</span>
          </div>
          <!-- <ng-container *ngIf="this.__nonfinForm.get('filePreview').value">
            <br clear="all" />
            <img class="imgThumbnail" [src]="this.__nonfinForm.get('filePreview').value" alt="Application form Image">
          </ng-container> -->


        </div>
      </div>
      <!-- Form will submmied at -->
      <div class="row">
        <div class="col-sm-12">
          <label for="rnt_login_at">Form Will Be Submitted At <span class="text-danger">*</span></label>
          <select name="rnt_login_at" id="rnt_login_at" formControlName="rnt_login_at" class="form-control">
            <option value="">Select form will be submitted at</option>
            <option [value]="__rnt_login.id" *ngFor="let __rnt_login of __rnt_login_at">{{__rnt_login.rnt_name}}
            </option>
          </select>
          <div class="invalid-feedback"
            *ngIf="__nonfinForm.get('rnt_login_at').invalid && (__nonfinForm.get('rnt_login_at').dirty || __nonfinForm.get('rnt_login_at').touched)">
            <span class="invalid-feedback" *ngIf="(__nonfinForm.get('rnt_login_at')).errors?.required">*Please provide
              form submit at</span>
          </div>
        </div>
      </div>
      <!-- Remarks -->
      <div class="row  my-2">
        <div class="col-sm-12">
          <label for="file">Remarks</label>
          <textarea name="rmks" id="rmks" cols="30" rows="5" formControlName="remarks" class="form-control"></textarea>
        </div>
      </div>

    </form>
  </mat-dialog-content>
  <mat-dialog-actions align="end" class="popupBoxSubmitSec">
    <button class="btn addBtn" [attr.form]="'__NonFIn_'+ data.id"
      [disabled]="__nonfinForm.invalid">Submit</button>
  </mat-dialog-actions>
  <br clear="all">

</div>
