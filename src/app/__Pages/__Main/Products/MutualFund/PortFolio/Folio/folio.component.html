
<div class="row flexSec">
  <div class="col-sm-12">
     <div class="card">
      <div class="card-header sticky-header py-1 px-3 d-flex flex-column">
        <div class="w-100 d-flex justify-content-between align-items-center">
        <b class="m-0 d-flex align-items-center">
          <i class="pi pi-database mr-1" style="font-size:2rem"></i>Folio</b>
        <div class="flex w-25">
          <span class="ml-auto">
              <input id="search" class="form-control rounded" type="text"(input)="filterGlobal($event)"placeholder="Search"/>
          </span>
        </div>
       </div>
      </div>
      <div class="card-body">
        <p-table
        #primeTbl
        id="trxDt"
        [value]="folio_dt"
        [responsive]="true"
        [rowHover]="true"
        styleClass="p-datatable-striped p-datatable-lg"
        responsiveLayout="scroll"
        [scrollable]="true"
        [columns]="column"
        [paginator]="true"
        [autoLayout]="true"
        [totalRecords]="folio_dt.length"
        [pageLinks]="3"
        [rowsPerPageOptions]="[10,50,100,{ showAll: 'All' }]"
        currentPageReportTemplate="Showing {first} to {last} of {totalRecords} entries"
        [rows]="10"
        [showCurrentPageReport]="true"
        [globalFilterFields]="getColumns()"
        [tableStyle]="{ 'min-width': '900rem' }"
        >
          <ng-template pTemplate="header">
              <tr >
                  <th  *ngFor="let col of column"
                  [pSortableColumn]="col.field"
                  [style.max-width]="col.width"
                  [style.min-width]="col.width"

                  >
                    {{ col.header }}
                    <p-sortIcon [field]="col.field">
                    </p-sortIcon>
                  </th>
              </tr>
          </ng-template>
          <ng-template pTemplate="body" let-folio_dt  let-i="rowIndex">
            <tr tabindex="999">
              <td *ngFor="let col of column"
              [style.max-width]="col.width"
              [style.min-width]="col.width"
              >
              <ng-container [ngSwitch]="true">
                <ng-container *ngSwitchCase="col.field == 'sl_no'">
                  <p class="m-0">{{i + 1}}</p>
               </ng-container>

               <ng-container *ngSwitchCase="col.field == 'dob' || col.field == 'dob_2nd_holder' ||  col.field == 'dob_3rd_holder' || col.field == 'guardian_dob'">
                <p class="m-0">{{folio_dt[col.field] ? (folio_dt[col.field] | date:'dd-MM-YYYY') : 'N/A'}}</p>
               </ng-container>

               <ng-container *ngSwitchCase="col.field == 'mode_of_holding'">
                <p class="m-0">{{folio_dt[col.field] ? (folio_dt[col.field] == 'SI' ? 'Single' : 'Anyone or survivor') : 'N/A'}}</p>
               </ng-container>

               <ng-container *ngSwitchDefault>
                <p class="m-0">
                  {{ folio_dt[col.field] ? folio_dt[col.field] : 'N/A' }}
                </p>
              </ng-container>
               </ng-container>
              </td>
              </tr>
            </ng-template>
          <ng-template pTemplate="emptymessage" let-columns>
            <tr>
              <td [attr.colSpan]="columns.length" class="noHistoryAvailable">
                 <h5>No Records Found</h5>
              </td>
            </tr>
          </ng-template>
      </p-table>
      </div>
     </div>
  </div>
</div>
